(()=>{"use strict";var t={877:(t,e,i)=>{i.r(e),i.d(e,{easeBack:()=>G,easeBackIn:()=>A,easeBackInOut:()=>G,easeBackOut:()=>D,easeBounce:()=>O,easeBounceIn:()=>I,easeBounceInOut:()=>B,easeBounceOut:()=>O,easeCircle:()=>P,easeCircleIn:()=>k,easeCircleInOut:()=>P,easeCircleOut:()=>S,easeCubic:()=>h,easeCubicIn:()=>l,easeCubicInOut:()=>h,easeCubicOut:()=>c,easeElastic:()=>E,easeElasticIn:()=>C,easeElasticInOut:()=>T,easeElasticOut:()=>E,easeExp:()=>x,easeExpIn:()=>w,easeExpInOut:()=>x,easeExpOut:()=>y,easeLinear:()=>n,easePoly:()=>d,easePolyIn:()=>a,easePolyInOut:()=>d,easePolyOut:()=>u,easeQuad:()=>o,easeQuadIn:()=>s,easeQuadInOut:()=>o,easeQuadOut:()=>r,easeSin:()=>b,easeSinIn:()=>g,easeSinInOut:()=>b,easeSinOut:()=>m});const n=t=>+t;function s(t){return t*t}function r(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function l(t){return t*t*t}function c(t){return--t*t*t+1}function h(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var a=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),u=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),d=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),f=Math.PI,p=f/2;function g(t){return 1==+t?1:1-Math.cos(t*p)}function m(t){return Math.sin(t*p)}function b(t){return(1-Math.cos(f*t))/2}function v(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function w(t){return v(1-+t)}function y(t){return 1-v(t)}function x(t){return((t*=2)<=1?v(1-t):2-v(t-1))/2}function k(t){return 1-Math.sqrt(1-t*t)}function S(t){return Math.sqrt(1- --t*t)}function P(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var M=7.5625;function I(t){return 1-O(1-t)}function O(t){return(t=+t)<.36363636363636365?M*t*t:t<.7272727272727273?M*(t-=.5454545454545454)*t+.75:t<.9090909090909091?M*(t-=.8181818181818182)*t+.9375:M*(t-=.9545454545454546)*t+.984375}function B(t){return((t*=2)<=1?1-O(1-t):O(t-1)+1)/2}var z=1.70158,A=function t(e){function i(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,i.overshoot=t,i}(z),D=function t(e){function i(t){return--t*t*((t+1)*e+t)+1}return e=+e,i.overshoot=t,i}(z),G=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(z),Y=2*Math.PI,C=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=Y);function s(t){return e*v(- --t)*Math.sin((n-t)/i)}return s.amplitude=function(e){return t(e,i*Y)},s.period=function(i){return t(e,i)},s}(1,.3),E=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=Y);function s(t){return 1-e*v(t=+t)*Math.sin((t+n)/i)}return s.amplitude=function(e){return t(e,i*Y)},s.period=function(i){return t(e,i)},s}(1,.3),T=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=Y);function s(t){return((t=2*t-1)<0?e*v(-t)*Math.sin((n-t)/i):2-e*v(t)*Math.sin((n+t)/i))/2}return s.amplitude=function(e){return t(e,i*Y)},s.period=function(i){return t(e,i)},s}(1,.3)},307:(t,e,i)=>{i.r(e)},607:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const o=i(628),l=i(60),c=r(i(877));i(307),o.setup.setupInterface();const h=new class{constructor(){this.cellsX=8,this.cellsY=8,this.cellSize=60,this.width=this.cellsX*this.cellSize,this.height=this.cellsY*this.cellSize,this.currentPlayer="A",this.isRunning=!1,this.fpsInterval=20,this.animatingDrop=!1,this.dropAnimationY=0,this.canAcceptInput=!0,this.debug=!1,this.canvas=document.getElementById("canvas"),this.canvas.width=this.cellsX*(this.cellSize+1),this.canvas.height=this.cellsY*(this.cellSize+1),this.context=this.canvas.getContext("2d"),this.lastTime=window.performance.now()}setupGrid(){this.grid=[],this.highlighted=[],this.debugGrid=[];for(let t=0;t<this.cellsY;t++){this.grid.push([]),this.highlighted.push([]),this.debugGrid.push([]);for(let t=0;t<this.cellsX;t++)this.grid[this.grid.length-1].push(null),this.highlighted[this.highlighted.length-1].push(!1),this.debugGrid[this.debugGrid.length-1].push(!1)}}registerHandlers(){this.canvas.onmousemove=t=>{const e=t.clientX,i=t.clientY;if(!this.canAcceptInput)return;const n=Math.floor(e/this.cellSize),s=Math.floor(i/this.cellSize);n>=this.cellsX||s>=this.cellsY||(this.clearHighlights(),this.highlighted[s][n]=!0)},this.canvas.onclick=t=>{const e=t.clientX,i=t.clientY;if(!this.canAcceptInput)return;const n=Math.floor(e/this.cellSize),s=Math.floor(i/this.cellSize);n>=this.cellsX||s>=this.cellsY||(this.clearHighlights(),this.handleBoxClick(s,n))}}handleBoxClick(t,e){const i=this.currentPlayer,{row:n,col:s}=this.dropPiece(e);void 0!==t&&void 0!==e&&(this.lastDrop={clickRow:t,clickCol:e,row:n,col:s,player:i},this.triggerAnimateDrop())}clearHighlights(){for(let t=0;t<this.cellsY;t++)for(let e=0;e<this.cellsY;e++)this.highlighted[t][e]=!1}drawHighlight(){for(let t=0;t<this.cellsY;t++)for(let e=0;e<this.cellsY;e++)if(!this.grid[t][e])if(1==this.highlighted[t][e]){const i=this.colorFromPlayer(this.currentPlayer);this.drawBlock(t,e,i)}else this.clearBlock(t,e)}colorFromPlayer(t){return"A"==t?"red":"blue"}startGame(){this.setupGrid(),this.registerHandlers(),this.winner=null,this.lastDrop=null,this.animatingDrop=!1,this.canAcceptInput=!0,this.isRunning=!0,this.runGameLoop()}runGameLoop(t){if(!this.isRunning)return void this.handleWin();window.requestAnimationFrame(this.runGameLoop.bind(this));const e=t,i=e-this.lastTime;i>this.fpsInterval&&(this.lastTime=e-i%this.fpsInterval,this.drawGrid(),this.drawBlocks(),this.drawHighlight(),this.animateDrop(),this.winner&&(this.isRunning=!1))}handleWin(){this.canAcceptInput=!1;const t=this.colorFromPlayer(this.winner);document.body.style.cursor="default",this.context.font="30px Arial",this.context.fillStyle="black";const e=`${t} won!`,i=this.context.measureText(e);this.context.fillText(e,this.width/2-i.width/2,this.height/2-i.actualBoundingBoxAscent/2)}triggerAnimateDrop(){document.body.style.cursor="wait",this.canAcceptInput=!1,this.animatingDrop=!0}handleDropFinish(t,e,i){this.animatingDrop=!1,this.dropAnimationY=0,this.grid[t][e]=i,document.body.style.cursor="default"}animateDrop(){if(!this.lastDrop||!this.animatingDrop)return;window.requestAnimationFrame(this.animateDrop.bind(this));const{clickRow:t,clickCol:e,row:i,col:n,player:s}=this.lastDrop;if(t*this.cellSize+this.dropAnimationY>=this.cellSize*i){this.handleDropFinish(i,e,s),console.log(this.debugGrid);const t=l.checkPositionForWin(i,n,s,this.grid,this.debugGrid,this.debug);if(this.debug&&this.setClearDebugTimeout(),t)return this.debug&&this.clearDebugGrid(),void(this.winner=s);this.togglePlayer(),this.canAcceptInput=!0}else this.drawBlockAtPoint(e*this.cellSize,t*this.cellSize+this.dropAnimationY,this.colorFromPlayer(s)),this.dropAnimationY+=c.easePolyIn(1.2)}drawBlockAtPoint(t,e,i){this.context.fillStyle=i,this.context.fillRect(t+1,e+1,this.cellSize-1,this.cellSize-1)}drawBlock(t,e,i){this.context.fillStyle=i,this.context.fillRect(e*this.cellSize+1,t*this.cellSize+1,this.cellSize-1,this.cellSize-1)}clearBlock(t,e){this.context.clearRect(e*this.cellSize+1,t*this.cellSize+1,this.cellSize-1,this.cellSize-1)}setClearDebugTimeout(){setTimeout((()=>{this.clearDebugGrid()}),1e3)}clearDebugGrid(){for(let t=0;t<this.cellsY;t++)for(let e=0;e<this.cellsY;e++)this.debugGrid[t][e]=!1}drawBlocks(){for(let t=0;t<this.cellsY;t++)for(let e=0;e<this.cellsX;e++)this.debugGrid[t][e]?this.drawBlock(t,e,"green"):"A"==this.grid[t][e]?this.drawBlock(t,e,"red"):"B"==this.grid[t][e]?this.drawBlock(t,e,"blue"):this.drawBlock(t,e,"white")}drawGrid(){this.context.strokeStyle="#333333";for(let t=0;t<=this.width;t+=this.cellSize)this.context.beginPath(),this.context.moveTo(t,0),this.context.lineTo(t,this.height),this.context.stroke();for(let t=0;t<=this.height;t+=this.cellSize)this.context.beginPath(),this.context.moveTo(0,t),this.context.lineTo(this.width,t),this.context.stroke()}togglePlayer(){"A"==this.currentPlayer?this.currentPlayer="B":this.currentPlayer="A"}dropPiece(t){for(let e=this.cellsY-1;e>=0;e--)if(!this.grid[e][t])return{row:e,col:t}}};o.setup.addEventListeners(h),h.startGame()},628:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setup=void 0;const i=document.createElement("canvas");i.id="canvas";const n=document.createElement("div");n.id="game";const s=document.createElement("button");s.id="debugBtn",s.innerHTML="Toggle Debug",s.classList.add("btn");const r=document.createElement("div"),o=document.createElement("button");o.id="startOverBtn",o.classList.add("btn"),o.innerHTML="Start Over",e.setup={addEventListeners:t=>{o.addEventListener("click",(()=>t.startGame())),s.addEventListener("click",(()=>(t=>{t.debug=!t.debug,s.classList.toggle("disabled")})(t)))},setupInterface:()=>{n.appendChild(i),document.body.appendChild(n),r.appendChild(o),r.appendChild(s),document.body.appendChild(r)}}},60:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkPositionForWin=void 0;const i=(t,e)=>{let i=0;for(let n=0;n<t.length;n++)if(t[n]==e){if(i++,4==i)return console.log("won"),!0}else i=0};e.checkPositionForWin=(t,e,n,s,r,o=!1)=>!!(((t,e,n,s,r,o=!1)=>{let l=[];for(let i=3;i>0;i--){if(e-i<0)continue;const n=s[t][e-i];if(o&&(r[t][e-i]=!0),!n)break;l.push(n)}for(let i=0;i<4;i++){if(e+i>7)continue;const n=s[t][e+i];if(o&&(r[t][e+i]=!0),!n)break;l.push(n)}return i(l,n)})(t,e,n,s,r,o)||((t,e,n,s,r,o=!1)=>{let l=[];for(let i=3;i>0;i--){if(t-i<0)continue;const n=s[t-i][e];if(o&&(r[t-i][e]=!0),!n)break;l.push(n)}for(let i=0;i<4;i++){if(t+i>7)continue;const n=s[t+i][e];if(o&&(r[t+i][e]=!0),!n)break;l.push(n)}return i(l,n)})(t,e,n,s,r,o)||((t,e,n,s,r,o=!1)=>{let l=[];for(let i=3;i>0;i--){if(t-i<0||e+i>7)continue;const n=s[t-i][e+i];if(o&&(r[t-i][e+i]=!0),!n)break;l.push(n)}for(let i=0;i<4;i++){if(t+i>7||e-i<0)continue;const n=s[t+i][e-i];if(o&&(r[t+i][e-i]=!0),!n)break;l.push(n)}return i(l,n)})(t,e,n,s,r,o)||((t,e,n,s,r,o=!1)=>{let l=[];for(let i=3;i>0;i--){if(t-i<0||e-i<0)continue;const n=s[t-i][e-i];if(o&&(r[t-i][e-i]=!0),!n)break;l.push(n)}for(let i=0;i<4;i++){if(t+i>7||e+i>7)continue;const n=s[t+i][e+i];if(o&&(r[t+i][e+i]=!0),!n)break;l.push(n)}return i(l,n)})(t,e,n,s,r,o))}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2xpbmVhci5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL3F1YWQuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9jdWJpYy5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL3BvbHkuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9zaW4uanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9tYXRoLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvZXhwLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY2lyY2xlLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvYm91bmNlLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvYmFjay5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2VsYXN0aWMuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vc3JjL2ludGVyZmFjZS50cyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vc3JjL3dpbkNoZWNrcy50cyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsibGluZWFyIiwidCIsInF1YWRJbiIsInF1YWRPdXQiLCJxdWFkSW5PdXQiLCJjdWJpY0luIiwiY3ViaWNPdXQiLCJjdWJpY0luT3V0IiwicG9seUluIiwiY3VzdG9tIiwiZSIsIk1hdGgiLCJwb3ciLCJleHBvbmVudCIsInBvbHlPdXQiLCJwb2x5SW5PdXQiLCJwaSIsIlBJIiwiaGFsZlBpIiwic2luSW4iLCJjb3MiLCJzaW5PdXQiLCJzaW4iLCJzaW5Jbk91dCIsInRwbXQiLCJ4IiwiZXhwSW4iLCJleHBPdXQiLCJleHBJbk91dCIsImNpcmNsZUluIiwic3FydCIsImNpcmNsZU91dCIsImNpcmNsZUluT3V0IiwiYjAiLCJib3VuY2VJbiIsImJvdW5jZU91dCIsImJvdW5jZUluT3V0Iiwib3ZlcnNob290IiwiYmFja0luIiwicyIsImJhY2tPdXQiLCJiYWNrSW5PdXQiLCJ0YXUiLCJlbGFzdGljSW4iLCJhIiwicCIsImFzaW4iLCJtYXgiLCJhbXBsaXR1ZGUiLCJwZXJpb2QiLCJlbGFzdGljT3V0IiwiZWxhc3RpY0luT3V0Iiwic2V0dXAiLCJzZXR1cEludGVyZmFjZSIsImdhbWUiLCJjZWxsc1giLCJjZWxsc1kiLCJjZWxsU2l6ZSIsIndpZHRoIiwidGhpcyIsImhlaWdodCIsImN1cnJlbnRQbGF5ZXIiLCJpc1J1bm5pbmciLCJmcHNJbnRlcnZhbCIsImFuaW1hdGluZ0Ryb3AiLCJkcm9wQW5pbWF0aW9uWSIsImNhbkFjY2VwdElucHV0IiwiZGVidWciLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJsYXN0VGltZSIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwibm93IiwiZ3JpZCIsImhpZ2hsaWdodGVkIiwiZGVidWdHcmlkIiwicm93IiwicHVzaCIsImNvbCIsImxlbmd0aCIsIm9ubW91c2Vtb3ZlIiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiZmxvb3IiLCJjbGVhckhpZ2hsaWdodHMiLCJvbmNsaWNrIiwiaGFuZGxlQm94Q2xpY2siLCJwbGF5ZXIiLCJwbGFjZWRSb3ciLCJwbGFjZWRDb2wiLCJkcm9wUGllY2UiLCJsYXN0RHJvcCIsImNsaWNrUm93IiwiY2xpY2tDb2wiLCJ0cmlnZ2VyQW5pbWF0ZURyb3AiLCJjb2xvciIsImNvbG9yRnJvbVBsYXllciIsImRyYXdCbG9jayIsImNsZWFyQmxvY2siLCJzZXR1cEdyaWQiLCJyZWdpc3RlckhhbmRsZXJzIiwid2lubmVyIiwicnVuR2FtZUxvb3AiLCJuZXdUaW1lIiwiaGFuZGxlV2luIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRpbWVFbGFwc2VkIiwiZHJhd0dyaWQiLCJkcmF3QmxvY2tzIiwiZHJhd0hpZ2hsaWdodCIsImFuaW1hdGVEcm9wIiwid2lubmVyQ29sb3IiLCJib2R5Iiwic3R5bGUiLCJjdXJzb3IiLCJmb250IiwiZmlsbFN0eWxlIiwidGV4dCIsInRleHRNZXRyaWNzIiwibWVhc3VyZVRleHQiLCJmaWxsVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiaGFuZGxlRHJvcEZpbmlzaCIsImNvbnNvbGUiLCJsb2ciLCJ3b24iLCJjaGVja1Bvc2l0aW9uRm9yV2luIiwic2V0Q2xlYXJEZWJ1Z1RpbWVvdXQiLCJjbGVhckRlYnVnR3JpZCIsInRvZ2dsZVBsYXllciIsImRyYXdCbG9ja0F0UG9pbnQiLCJkMyIsImVhc2VQb2x5SW4iLCJmaWxsUmVjdCIsImNsZWFyUmVjdCIsInNldFRpbWVvdXQiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFkZEV2ZW50TGlzdGVuZXJzIiwic3RhcnRHYW1lIiwiZWwiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjb250YWluZXIiLCJkZWJ1Z0J0biIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImFkZCIsImRpdiIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGUiLCJ0b2dnbGVEZWJ1ZyIsImFwcGVuZENoaWxkIiwiY2hlY2tGb3JXaW4iLCJjZWxscyIsImNvdW50IiwiaSIsImJvYXJkIiwiZGVidWdCb2FyZCIsImNlbGwiLCJib2FyZFNpemUiLCJjaGVja0hvcml6IiwiY2hlY2tWZXJ0IiwiY2hlY2tEaWFnTGVmdCIsImNoZWNrRGlhZ1JpZ2h0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiXSwibWFwcGluZ3MiOiJ1dEJBQU8sTUFBTUEsRUFBU0MsSUFBTUEsRUNBckIsU0FBU0MsRUFBT0QsR0FDckIsT0FBT0EsRUFBSUEsRUFHTixTQUFTRSxFQUFRRixHQUN0QixPQUFPQSxHQUFLLEVBQUlBLEdBR1gsU0FBU0csRUFBVUgsR0FDeEIsUUFBU0EsR0FBSyxJQUFNLEVBQUlBLEVBQUlBLElBQU1BLEdBQUssRUFBSUEsR0FBSyxHQUFLLEVDVGhELFNBQVNJLEVBQVFKLEdBQ3RCLE9BQU9BLEVBQUlBLEVBQUlBLEVBR1YsU0FBU0ssRUFB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RCxRQUFTRixHQUdwRUcsRUFBT0QsUUNuQmZGLEVBQW9CTSxFQUFJLENBQUNKLEVBQVNLLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFAsRUFBb0JTLEVBQUVGLEVBQVlDLEtBQVNSLEVBQW9CUyxFQUFFUCxFQUFTTSxJQUM1RUUsT0FBT0MsZUFBZVQsRUFBU00sRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFUixFQUFvQlMsRUFBSSxDQUFDSyxFQUFLQyxJQUFTTCxPQUFPTSxVQUFVQyxlQUFlWixLQUFLUyxFQUFLQyxHQ0NqRmYsRUFBb0JrQixFQUFLaEIsSUFDSCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVQsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFgsT0FBT0MsZUFBZVQsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtDRnZEckIsRUFBb0IsTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbGluZWFyID0gdCA9PiArdDtcbiIsImV4cG9ydCBmdW5jdGlvbiBxdWFkSW4odCkge1xuICByZXR1cm4gdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWFkT3V0KHQpIHtcbiAgcmV0dXJuIHQgKiAoMiAtIHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVhZEluT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgOiAtLXQgKiAoMiAtIHQpICsgMSkgLyAyO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW4odCkge1xuICByZXR1cm4gdCAqIHQgKiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNPdXQodCkge1xuICByZXR1cm4gLS10ICogdCAqIHQgKyAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7XG4gIHJldHVybiAoKHQgKj0gMikgPD0gMSA/IHQgKiB0ICogdCA6ICh0IC09IDIpICogdCAqIHQgKyAyKSAvIDI7XG59XG4iLCJ2YXIgZXhwb25lbnQgPSAzO1xuXG5leHBvcnQgdmFyIHBvbHlJbiA9IChmdW5jdGlvbiBjdXN0b20oZSkge1xuICBlID0gK2U7XG5cbiAgZnVuY3Rpb24gcG9seUluKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3codCwgZSk7XG4gIH1cblxuICBwb2x5SW4uZXhwb25lbnQgPSBjdXN0b207XG5cbiAgcmV0dXJuIHBvbHlJbjtcbn0pKGV4cG9uZW50KTtcblxuZXhwb3J0IHZhciBwb2x5T3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShlKSB7XG4gIGUgPSArZTtcblxuICBmdW5jdGlvbiBwb2x5T3V0KHQpIHtcbiAgICByZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCBlKTtcbiAgfVxuXG4gIHBvbHlPdXQuZXhwb25lbnQgPSBjdXN0b207XG5cbiAgcmV0dXJuIHBvbHlPdXQ7XG59KShleHBvbmVudCk7XG5cbmV4cG9ydCB2YXIgcG9seUluT3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShlKSB7XG4gIGUgPSArZTtcblxuICBmdW5jdGlvbiBwb2x5SW5PdXQodCkge1xuICAgIHJldHVybiAoKHQgKj0gMikgPD0gMSA/IE1hdGgucG93KHQsIGUpIDogMiAtIE1hdGgucG93KDIgLSB0LCBlKSkgLyAyO1xuICB9XG5cbiAgcG9seUluT3V0LmV4cG9uZW50ID0gY3VzdG9tO1xuXG4gIHJldHVybiBwb2x5SW5PdXQ7XG59KShleHBvbmVudCk7XG4iLCJ2YXIgcGkgPSBNYXRoLlBJLFxuICAgIGhhbGZQaSA9IHBpIC8gMjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNpbkluKHQpIHtcbiAgcmV0dXJuICgrdCA9PT0gMSkgPyAxIDogMSAtIE1hdGguY29zKHQgKiBoYWxmUGkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2luT3V0KHQpIHtcbiAgcmV0dXJuIE1hdGguc2luKHQgKiBoYWxmUGkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2luSW5PdXQodCkge1xuICByZXR1cm4gKDEgLSBNYXRoLmNvcyhwaSAqIHQpKSAvIDI7XG59XG4iLCIvLyB0cG10IGlzIHR3byBwb3dlciBtaW51cyB0ZW4gdGltZXMgdCBzY2FsZWQgdG8gWzAsMV1cbmV4cG9ydCBmdW5jdGlvbiB0cG10KHgpIHtcbiAgcmV0dXJuIChNYXRoLnBvdygyLCAtMTAgKiB4KSAtIDAuMDAwOTc2NTYyNSkgKiAxLjAwMDk3NzUxNzEwNjU0OTQ7XG59XG4iLCJpbXBvcnQge3RwbXR9IGZyb20gXCIuL21hdGguanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGV4cEluKHQpIHtcbiAgcmV0dXJuIHRwbXQoMSAtICt0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cE91dCh0KSB7XG4gIHJldHVybiAxIC0gdHBtdCh0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cEluT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdHBtdCgxIC0gdCkgOiAyIC0gdHBtdCh0IC0gMSkpIC8gMjtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjaXJjbGVJbih0KSB7XG4gIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaXJjbGVPdXQodCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLXQgKiB0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZUluT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpIDogTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgLyAyO1xufVxuIiwidmFyIGIxID0gNCAvIDExLFxuICAgIGIyID0gNiAvIDExLFxuICAgIGIzID0gOCAvIDExLFxuICAgIGI0ID0gMyAvIDQsXG4gICAgYjUgPSA5IC8gMTEsXG4gICAgYjYgPSAxMCAvIDExLFxuICAgIGI3ID0gMTUgLyAxNixcbiAgICBiOCA9IDIxIC8gMjIsXG4gICAgYjkgPSA2MyAvIDY0LFxuICAgIGIwID0gMSAvIGIxIC8gYjE7XG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuY2VJbih0KSB7XG4gIHJldHVybiAxIC0gYm91bmNlT3V0KDEgLSB0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZU91dCh0KSB7XG4gIHJldHVybiAodCA9ICt0KSA8IGIxID8gYjAgKiB0ICogdCA6IHQgPCBiMyA/IGIwICogKHQgLT0gYjIpICogdCArIGI0IDogdCA8IGI2ID8gYjAgKiAodCAtPSBiNSkgKiB0ICsgYjcgOiBiMCAqICh0IC09IGI4KSAqIHQgKyBiOTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZUluT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gMSAtIGJvdW5jZU91dCgxIC0gdCkgOiBib3VuY2VPdXQodCAtIDEpICsgMSkgLyAyO1xufVxuIiwidmFyIG92ZXJzaG9vdCA9IDEuNzAxNTg7XG5cbmV4cG9ydCB2YXIgYmFja0luID0gKGZ1bmN0aW9uIGN1c3RvbShzKSB7XG4gIHMgPSArcztcblxuICBmdW5jdGlvbiBiYWNrSW4odCkge1xuICAgIHJldHVybiAodCA9ICt0KSAqIHQgKiAocyAqICh0IC0gMSkgKyB0KTtcbiAgfVxuXG4gIGJhY2tJbi5vdmVyc2hvb3QgPSBjdXN0b207XG5cbiAgcmV0dXJuIGJhY2tJbjtcbn0pKG92ZXJzaG9vdCk7XG5cbmV4cG9ydCB2YXIgYmFja091dCA9IChmdW5jdGlvbiBjdXN0b20ocykge1xuICBzID0gK3M7XG5cbiAgZnVuY3Rpb24gYmFja091dCh0KSB7XG4gICAgcmV0dXJuIC0tdCAqIHQgKiAoKHQgKyAxKSAqIHMgKyB0KSArIDE7XG4gIH1cblxuICBiYWNrT3V0Lm92ZXJzaG9vdCA9IGN1c3RvbTtcblxuICByZXR1cm4gYmFja091dDtcbn0pKG92ZXJzaG9vdCk7XG5cbmV4cG9ydCB2YXIgYmFja0luT3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShzKSB7XG4gIHMgPSArcztcblxuICBmdW5jdGlvbiBiYWNrSW5PdXQodCkge1xuICAgIHJldHVybiAoKHQgKj0gMikgPCAxID8gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSA6ICh0IC09IDIpICogdCAqICgocyArIDEpICogdCArIHMpICsgMikgLyAyO1xuICB9XG5cbiAgYmFja0luT3V0Lm92ZXJzaG9vdCA9IGN1c3RvbTtcblxuICByZXR1cm4gYmFja0luT3V0O1xufSkob3ZlcnNob290KTtcbiIsImltcG9ydCB7dHBtdH0gZnJvbSBcIi4vbWF0aC5qc1wiO1xuXG52YXIgdGF1ID0gMiAqIE1hdGguUEksXG4gICAgYW1wbGl0dWRlID0gMSxcbiAgICBwZXJpb2QgPSAwLjM7XG5cbmV4cG9ydCB2YXIgZWxhc3RpY0luID0gKGZ1bmN0aW9uIGN1c3RvbShhLCBwKSB7XG4gIHZhciBzID0gTWF0aC5hc2luKDEgLyAoYSA9IE1hdGgubWF4KDEsIGEpKSkgKiAocCAvPSB0YXUpO1xuXG4gIGZ1bmN0aW9uIGVsYXN0aWNJbih0KSB7XG4gICAgcmV0dXJuIGEgKiB0cG10KC0oLS10KSkgKiBNYXRoLnNpbigocyAtIHQpIC8gcCk7XG4gIH1cblxuICBlbGFzdGljSW4uYW1wbGl0dWRlID0gZnVuY3Rpb24oYSkgeyByZXR1cm4gY3VzdG9tKGEsIHAgKiB0YXUpOyB9O1xuICBlbGFzdGljSW4ucGVyaW9kID0gZnVuY3Rpb24ocCkgeyByZXR1cm4gY3VzdG9tKGEsIHApOyB9O1xuXG4gIHJldHVybiBlbGFzdGljSW47XG59KShhbXBsaXR1ZGUsIHBlcmlvZCk7XG5cbmV4cG9ydCB2YXIgZWxhc3RpY091dCA9IChmdW5jdGlvbiBjdXN0b20oYSwgcCkge1xuICB2YXIgcyA9IE1hdGguYXNpbigxIC8gKGEgPSBNYXRoLm1heCgxLCBhKSkpICogKHAgLz0gdGF1KTtcblxuICBmdW5jdGlvbiBlbGFzdGljT3V0KHQpIHtcbiAgICByZXR1cm4gMSAtIGEgKiB0cG10KHQgPSArdCkgKiBNYXRoLnNpbigodCArIHMpIC8gcCk7XG4gIH1cblxuICBlbGFzdGljT3V0LmFtcGxpdHVkZSA9IGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGN1c3RvbShhLCBwICogdGF1KTsgfTtcbiAgZWxhc3RpY091dC5wZXJpb2QgPSBmdW5jdGlvbihwKSB7IHJldHVybiBjdXN0b20oYSwgcCk7IH07XG5cbiAgcmV0dXJuIGVsYXN0aWNPdXQ7XG59KShhbXBsaXR1ZGUsIHBlcmlvZCk7XG5cbmV4cG9ydCB2YXIgZWxhc3RpY0luT3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShhLCBwKSB7XG4gIHZhciBzID0gTWF0aC5hc2luKDEgLyAoYSA9IE1hdGgubWF4KDEsIGEpKSkgKiAocCAvPSB0YXUpO1xuXG4gIGZ1bmN0aW9uIGVsYXN0aWNJbk91dCh0KSB7XG4gICAgcmV0dXJuICgodCA9IHQgKiAyIC0gMSkgPCAwXG4gICAgICAgID8gYSAqIHRwbXQoLXQpICogTWF0aC5zaW4oKHMgLSB0KSAvIHApXG4gICAgICAgIDogMiAtIGEgKiB0cG10KHQpICogTWF0aC5zaW4oKHMgKyB0KSAvIHApKSAvIDI7XG4gIH1cblxuICBlbGFzdGljSW5PdXQuYW1wbGl0dWRlID0gZnVuY3Rpb24oYSkgeyByZXR1cm4gY3VzdG9tKGEsIHAgKiB0YXUpOyB9O1xuICBlbGFzdGljSW5PdXQucGVyaW9kID0gZnVuY3Rpb24ocCkgeyByZXR1cm4gY3VzdG9tKGEsIHApOyB9O1xuXG4gIHJldHVybiBlbGFzdGljSW5PdXQ7XG59KShhbXBsaXR1ZGUsIHBlcmlvZCk7XG4iLCJpbXBvcnQgeyBDZWxsLCBQbGF5ZXIgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgc2V0dXAgfSBmcm9tICcuL2ludGVyZmFjZSdcbmltcG9ydCB7IGNoZWNrUG9zaXRpb25Gb3JXaW4gfSBmcm9tICcuL3dpbkNoZWNrcydcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzLWVhc2UnXG5pbXBvcnQgJy4vc3R5bGUuY3NzJ1xuY2xhc3MgR2FtZSB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcbiAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gIGNlbGxzWCA9IDhcbiAgY2VsbHNZID0gOFxuICBjZWxsU2l6ZSA9IDYwXG4gIHdpZHRoID0gdGhpcy5jZWxsc1ggKiB0aGlzLmNlbGxTaXplXG4gIGhlaWdodCA9IHRoaXMuY2VsbHNZICogdGhpcy5jZWxsU2l6ZVxuICBncmlkOiBDZWxsW11bXVxuICBkZWJ1Z0dyaWQ6IGJvb2xlYW5bXVtdXG4gIGhpZ2hsaWdodGVkOiBib29sZWFuW11bXVxuICB3aW5uZXI6IFBsYXllclxuICBjdXJyZW50UGxheWVyOiBQbGF5ZXIgPSBcIkFcIlxuICBpc1J1bm5pbmcgPSBmYWxzZVxuICBsYXN0VGltZTogbnVtYmVyXG4gIGZwc0ludGVydmFsID0gMjBcbiAgYW5pbWF0aW5nRHJvcCA9IGZhbHNlXG4gIGRyb3BBbmltYXRpb25ZID0gMFxuICBsYXN0RHJvcDogeyBjbGlja0NvbDogbnVtYmVyLCBjbGlja1JvdzogbnVtYmVyLCByb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHBsYXllcjogUGxheWVyIH1cbiAgY2FuQWNjZXB0SW5wdXQgPSB0cnVlXG4gIGRlYnVnID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudFxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jZWxsc1ggKiAodGhpcy5jZWxsU2l6ZSArIDEpXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jZWxsc1kgKiAodGhpcy5jZWxsU2l6ZSArIDEpXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgIHRoaXMubGFzdFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cblxuICBzZXR1cEdyaWQoKSB7XG4gICAgdGhpcy5ncmlkID0gW11cbiAgICB0aGlzLmhpZ2hsaWdodGVkID0gW11cbiAgICB0aGlzLmRlYnVnR3JpZCA9IFtdXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5jZWxsc1k7IHJvdysrKSB7XG4gICAgICB0aGlzLmdyaWQucHVzaChbXSlcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWQucHVzaChbXSlcbiAgICAgIHRoaXMuZGVidWdHcmlkLnB1c2goW10pXG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCB0aGlzLmNlbGxzWDsgY29sKyspIHtcbiAgICAgICAgdGhpcy5ncmlkW3RoaXMuZ3JpZC5sZW5ndGggLSAxXS5wdXNoKG51bGwpXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRbdGhpcy5oaWdobGlnaHRlZC5sZW5ndGggLSAxXS5wdXNoKGZhbHNlKVxuICAgICAgICB0aGlzLmRlYnVnR3JpZFt0aGlzLmRlYnVnR3JpZC5sZW5ndGggLSAxXS5wdXNoKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVySGFuZGxlcnMoKSB7XG4gICAgdGhpcy5jYW52YXMub25tb3VzZW1vdmUgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeCA9IGUuY2xpZW50WCxcbiAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICAgIGlmICghdGhpcy5jYW5BY2NlcHRJbnB1dCkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoeCAvIHRoaXMuY2VsbFNpemUpXG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHkgLyB0aGlzLmNlbGxTaXplKVxuXG4gICAgICBpZiAoY29sID49IHRoaXMuY2VsbHNYIHx8IHJvdyA+PSB0aGlzLmNlbGxzWSkgcmV0dXJuXG5cbiAgICAgIHRoaXMuY2xlYXJIaWdobGlnaHRzKClcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRbcm93XVtjb2xdID0gdHJ1ZVxuICAgIH1cblxuICAgIHRoaXMuY2FudmFzLm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeCA9IGUuY2xpZW50WCxcbiAgICAgICAgeSA9IGUuY2xpZW50WSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICAgIGlmICghdGhpcy5jYW5BY2NlcHRJbnB1dCkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoeCAvIHRoaXMuY2VsbFNpemUpXG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHkgLyB0aGlzLmNlbGxTaXplKVxuXG4gICAgICBpZiAoY29sID49IHRoaXMuY2VsbHNYIHx8IHJvdyA+PSB0aGlzLmNlbGxzWSkgcmV0dXJuXG5cbiAgICAgIHRoaXMuY2xlYXJIaWdobGlnaHRzKClcbiAgICAgIHRoaXMuaGFuZGxlQm94Q2xpY2socm93LCBjb2wpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQm94Q2xpY2socm93OiBudW1iZXIsIGNvbDogbnVtYmVyKSB7XG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5jdXJyZW50UGxheWVyXG4gICAgY29uc3QgeyByb3c6IHBsYWNlZFJvdywgY29sOiBwbGFjZWRDb2wgfSA9IHRoaXMuZHJvcFBpZWNlKGNvbClcbiAgICBpZiAodHlwZW9mIHJvdyA9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY29sID09ICd1bmRlZmluZWQnKSByZXR1cm5cblxuICAgIHRoaXMubGFzdERyb3AgPSB7XG4gICAgICBjbGlja1Jvdzogcm93LFxuICAgICAgY2xpY2tDb2w6IGNvbCxcbiAgICAgIHJvdzogcGxhY2VkUm93LFxuICAgICAgY29sOiBwbGFjZWRDb2wsXG4gICAgICBwbGF5ZXJcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyQW5pbWF0ZURyb3AoKVxuICB9XG5cbiAgY2xlYXJIaWdobGlnaHRzKCkge1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuY2VsbHNZOyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5jZWxsc1k7IGNvbCsrKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRbcm93XVtjb2xdID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3SGlnaGxpZ2h0KCkge1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMuY2VsbHNZOyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5jZWxsc1k7IGNvbCsrKSB7XG4gICAgICAgIGlmICghIXRoaXMuZ3JpZFtyb3ddW2NvbF0pIGNvbnRpbnVlXG5cbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRbcm93XVtjb2xdID09IHRydWUpIHtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY29sb3JGcm9tUGxheWVyKHRoaXMuY3VycmVudFBsYXllcilcbiAgICAgICAgICB0aGlzLmRyYXdCbG9jayhyb3csIGNvbCwgY29sb3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jbGVhckJsb2NrKHJvdywgY29sKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xvckZyb21QbGF5ZXIocGxheWVyOiBQbGF5ZXIpIHtcbiAgICByZXR1cm4gcGxheWVyID09IFwiQVwiID8gJ3JlZCcgOiAnYmx1ZSdcbiAgfVxuXG4gIHN0YXJ0R2FtZSgpIHtcbiAgICB0aGlzLnNldHVwR3JpZCgpXG4gICAgdGhpcy5yZWdpc3RlckhhbmRsZXJzKClcbiAgICB0aGlzLndpbm5lciA9IG51bGxcbiAgICB0aGlzLmxhc3REcm9wID0gbnVsbFxuICAgIHRoaXMuYW5pbWF0aW5nRHJvcCA9IGZhbHNlXG4gICAgdGhpcy5jYW5BY2NlcHRJbnB1dCA9IHRydWVcbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWVcbiAgICB0aGlzLnJ1bkdhbWVMb29wKClcbiAgfVxuXG4gIHJ1bkdhbWVMb29wKG5ld1RpbWU/OiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICB0aGlzLmhhbmRsZVdpbigpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucnVuR2FtZUxvb3AuYmluZCh0aGlzKSlcblxuICAgIGNvbnN0IG5vdyA9IG5ld1RpbWU7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RUaW1lXG5cbiAgICBpZiAodGltZUVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XG5cbiAgICAgIHRoaXMubGFzdFRpbWUgPSBub3cgLSAodGltZUVsYXBzZWQgJSB0aGlzLmZwc0ludGVydmFsKTtcblxuICAgICAgdGhpcy5kcmF3R3JpZCgpXG4gICAgICB0aGlzLmRyYXdCbG9ja3MoKVxuICAgICAgdGhpcy5kcmF3SGlnaGxpZ2h0KClcbiAgICAgIHRoaXMuYW5pbWF0ZURyb3AoKVxuXG4gICAgICBpZiAodGhpcy53aW5uZXIpIHtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVdpbigpIHtcbiAgICB0aGlzLmNhbkFjY2VwdElucHV0ID0gZmFsc2VcbiAgICBjb25zdCB3aW5uZXJDb2xvciA9IHRoaXMuY29sb3JGcm9tUGxheWVyKHRoaXMud2lubmVyKVxuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIlxuICAgIHRoaXMuY29udGV4dC5mb250ID0gXCIzMHB4IEFyaWFsXCJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiXG5cbiAgICBjb25zdCB0ZXh0ID0gYCR7d2lubmVyQ29sb3J9IHdvbiFgXG4gICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dClcbiAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoXG4gICAgICB0ZXh0LFxuICAgICAgKHRoaXMud2lkdGggLyAyKSAtICh0ZXh0TWV0cmljcy53aWR0aCAvIDIpLFxuICAgICAgKHRoaXMuaGVpZ2h0IC8gMikgLSAodGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgLyAyKVxuICAgIClcbiAgfVxuXG4gIHRyaWdnZXJBbmltYXRlRHJvcCgpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwid2FpdFwiXG4gICAgdGhpcy5jYW5BY2NlcHRJbnB1dCA9IGZhbHNlXG4gICAgdGhpcy5hbmltYXRpbmdEcm9wID0gdHJ1ZVxuICB9XG5cbiAgaGFuZGxlRHJvcEZpbmlzaChyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHBsYXllcjogUGxheWVyKSB7XG4gICAgdGhpcy5hbmltYXRpbmdEcm9wID0gZmFsc2VcbiAgICB0aGlzLmRyb3BBbmltYXRpb25ZID0gMFxuICAgIHRoaXMuZ3JpZFtyb3ddW2NvbF0gPSBwbGF5ZXJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiXG4gIH1cblxuICBhbmltYXRlRHJvcCgpIHtcbiAgICBpZiAoIXRoaXMubGFzdERyb3AgfHwgIXRoaXMuYW5pbWF0aW5nRHJvcCkgcmV0dXJuXG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZURyb3AuYmluZCh0aGlzKSlcblxuICAgIGNvbnN0IHsgY2xpY2tSb3csIGNsaWNrQ29sLCByb3csIGNvbCwgcGxheWVyIH0gPSB0aGlzLmxhc3REcm9wXG5cbiAgICBpZiAoKGNsaWNrUm93ICogdGhpcy5jZWxsU2l6ZSkgKyB0aGlzLmRyb3BBbmltYXRpb25ZID49ICh0aGlzLmNlbGxTaXplICogcm93KSkge1xuICAgICAgdGhpcy5oYW5kbGVEcm9wRmluaXNoKHJvdywgY2xpY2tDb2wsIHBsYXllcilcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGVidWdHcmlkKVxuICAgICAgY29uc3Qgd29uID0gY2hlY2tQb3NpdGlvbkZvcldpbihyb3csIGNvbCwgcGxheWVyLCB0aGlzLmdyaWQsIHRoaXMuZGVidWdHcmlkLCB0aGlzLmRlYnVnKVxuICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMuc2V0Q2xlYXJEZWJ1Z1RpbWVvdXQoKVxuICAgICAgaWYgKHdvbikge1xuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgdGhpcy5jbGVhckRlYnVnR3JpZCgpXG4gICAgICAgIHRoaXMud2lubmVyID0gcGxheWVyXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy50b2dnbGVQbGF5ZXIoKVxuICAgICAgdGhpcy5jYW5BY2NlcHRJbnB1dCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmF3QmxvY2tBdFBvaW50KFxuICAgICAgICAoY2xpY2tDb2wgKiB0aGlzLmNlbGxTaXplKSxcbiAgICAgICAgKGNsaWNrUm93ICogdGhpcy5jZWxsU2l6ZSkgKyB0aGlzLmRyb3BBbmltYXRpb25ZLFxuICAgICAgICB0aGlzLmNvbG9yRnJvbVBsYXllcihwbGF5ZXIpXG4gICAgICApXG4gICAgICB0aGlzLmRyb3BBbmltYXRpb25ZICs9IGQzLmVhc2VQb2x5SW4oMS4yKVxuICAgIH1cblxuICB9XG5cbiAgZHJhd0Jsb2NrQXRQb2ludCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBjb2xvclxuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh4ICsgMSwgeSArIDEsIHRoaXMuY2VsbFNpemUgLSAxLCB0aGlzLmNlbGxTaXplIC0gMSlcbiAgfVxuXG4gIGRyYXdCbG9jayhyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoKGNvbCAqIHRoaXMuY2VsbFNpemUpICsgMSwgKHJvdyAqIHRoaXMuY2VsbFNpemUpICsgMSwgdGhpcy5jZWxsU2l6ZSAtIDEsIHRoaXMuY2VsbFNpemUgLSAxKVxuICB9XG5cbiAgY2xlYXJCbG9jayhyb3c6IG51bWJlciwgY29sOiBudW1iZXIpIHtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KChjb2wgKiB0aGlzLmNlbGxTaXplKSArIDEsIChyb3cgKiB0aGlzLmNlbGxTaXplKSArIDEsIHRoaXMuY2VsbFNpemUgLSAxLCB0aGlzLmNlbGxTaXplIC0gMSlcbiAgfVxuXG4gIHNldENsZWFyRGVidWdUaW1lb3V0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbGVhckRlYnVnR3JpZCgpXG4gICAgfSwgMTAwMClcbiAgfVxuICBjbGVhckRlYnVnR3JpZCgpIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmNlbGxzWTsgcm93KyspIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMuY2VsbHNZOyBjb2wrKykge1xuICAgICAgICB0aGlzLmRlYnVnR3JpZFtyb3ddW2NvbF0gPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRyYXdCbG9ja3MoKSB7XG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGhpcy5jZWxsc1k7IHJvdysrKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCB0aGlzLmNlbGxzWDsgY29sKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdHcmlkW3Jvd11bY29sXSkge1xuICAgICAgICAgIHRoaXMuZHJhd0Jsb2NrKHJvdywgY29sLCAnZ3JlZW4nKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ3JpZFtyb3ddW2NvbF0gPT0gXCJBXCIpIHtcbiAgICAgICAgICB0aGlzLmRyYXdCbG9jayhyb3csIGNvbCwgJ3JlZCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ncmlkW3Jvd11bY29sXSA9PSBcIkJcIikge1xuICAgICAgICAgIHRoaXMuZHJhd0Jsb2NrKHJvdywgY29sLCAnYmx1ZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kcmF3QmxvY2socm93LCBjb2wsICd3aGl0ZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3R3JpZCgpIHtcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzMzMzMzMydcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPD0gdGhpcy53aWR0aDsgY29sICs9IHRoaXMuY2VsbFNpemUpIHtcbiAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oY29sLCAwKTtcbiAgICAgIHRoaXMuY29udGV4dC5saW5lVG8oY29sLCB0aGlzLmhlaWdodCk7XG4gICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDw9IHRoaXMuaGVpZ2h0OyByb3cgKz0gdGhpcy5jZWxsU2l6ZSkge1xuICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbygwLCByb3cpO1xuICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyh0aGlzLndpZHRoLCByb3cpO1xuICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVBsYXllcigpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGxheWVyID09IFwiQVwiKSB7XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBcIkJcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBcIkFcIlxuICAgIH1cbiAgfVxuXG4gIGRyb3BQaWVjZShjbGlja0NvbDogbnVtYmVyKTogeyByb3c6IG51bWJlciwgY29sOiBudW1iZXIgfSB7XG4gICAgZm9yIChsZXQgcm93ID0gdGhpcy5jZWxsc1kgLSAxOyByb3cgPj0gMDsgcm93LS0pIHtcbiAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLmdyaWRbcm93XVtjbGlja0NvbF1cbiAgICAgIGlmICghY2VsbCkge1xuICAgICAgICByZXR1cm4geyByb3csIGNvbDogY2xpY2tDb2wgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5zZXR1cC5zZXR1cEludGVyZmFjZSgpXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKVxuc2V0dXAuYWRkRXZlbnRMaXN0ZW5lcnMoZ2FtZSlcbmdhbWUuc3RhcnRHYW1lKClcbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG5lbC5pZCAgPSAnY2FudmFzJ1xuXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuY29udGFpbmVyLmlkID0gJ2dhbWUnXG5cbmNvbnN0IGRlYnVnQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbmRlYnVnQnRuLmlkICA9ICdkZWJ1Z0J0bidcbmRlYnVnQnRuLmlubmVySFRNTCA9ICdUb2dnbGUgRGVidWcnXG5kZWJ1Z0J0bi5jbGFzc0xpc3QuYWRkKCdidG4nKVxuXG5jb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbmJ0bi5pZCAgPSAnc3RhcnRPdmVyQnRuJ1xuYnRuLmNsYXNzTGlzdC5hZGQoJ2J0bicpXG5idG4uaW5uZXJIVE1MID0gJ1N0YXJ0IE92ZXInXG5cbmNvbnN0IHRvZ2dsZURlYnVnID0gKGdhbWU6IEdhbWUpID0+IHtcbiAgZ2FtZS5kZWJ1ZyA9ICFnYW1lLmRlYnVnXG4gIGRlYnVnQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJylcbn1cblxuZXhwb3J0IGNvbnN0IHNldHVwID0ge1xuICBhZGRFdmVudExpc3RlbmVyczogKGdhbWU6IEdhbWUpID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBnYW1lLnN0YXJ0R2FtZSgpKVxuICAgIGRlYnVnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlRGVidWcoZ2FtZSkpXG4gIH0sXG4gIHNldHVwSW50ZXJmYWNlOiAoKSA9PiB7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuXG4gICAgZGl2LmFwcGVuZENoaWxkKGJ0bikgIFxuICAgIGRpdi5hcHBlbmRDaGlsZChkZWJ1Z0J0bilcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdilcbiAgfVxufSIsInR5cGUgQm9hcmQgPSBzdHJpbmdbXVtdXG50eXBlIERlYnVnQm9hcmQgPSBib29sZWFuW11bXVxuXG5jb25zdCBib2FyZFNpemUgPSA4XG5cbmNvbnN0IGNoZWNrRm9yV2luID0gKGNlbGxzOiBzdHJpbmdbXSwgcGxheWVyOiBzdHJpbmcpID0+IHtcbiAgbGV0IGNvdW50ID0gMFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGNlbGxzW2ldID09IHBsYXllcikge1xuICAgICAgY291bnQrK1xuICAgICAgaWYgKGNvdW50ID09IDQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3dvbicpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBjaGVja0hvcml6ID0gKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgcGxheWVyOiBzdHJpbmcsIGJvYXJkOiBCb2FyZCwgZGVidWdCb2FyZDogRGVidWdCb2FyZCwgZGVidWcgPSBmYWxzZSkgPT4ge1xuICBsZXQgY2VsbHMgPSBbXVxuXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XG4gICAgaWYgKGNvbCAtIGkgPCAwKSBjb250aW51ZTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmRbcm93XVtjb2wtaV1cbiAgICBpZiAoZGVidWcpIGRlYnVnQm9hcmRbcm93XVtjb2wtaV0gPSB0cnVlXG4gICAgaWYgKCFjZWxsKSBicmVha1xuICAgIGNlbGxzLnB1c2goY2VsbClcbiAgfSBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBpZiAoY29sICsgaSA+IGJvYXJkU2l6ZSAtIDEpIGNvbnRpbnVlO1xuICAgIGNvbnN0IGNlbGwgPSBib2FyZFtyb3ddW2NvbCtpXVxuICAgIGlmIChkZWJ1ZykgZGVidWdCb2FyZFtyb3ddW2NvbCtpXSA9IHRydWVcbiAgICBpZiAoIWNlbGwpIGJyZWFrXG4gICAgY2VsbHMucHVzaChjZWxsKVxuICB9XG5cbiAgcmV0dXJuIGNoZWNrRm9yV2luKGNlbGxzLCBwbGF5ZXIpXG59XG5cbmNvbnN0IGNoZWNrVmVydCA9IChyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHBsYXllcjogc3RyaW5nLCBib2FyZDogQm9hcmQsIGRlYnVnQm9hcmQ6IERlYnVnQm9hcmQsIGRlYnVnID0gZmFsc2UpID0+IHtcbiAgbGV0IGNlbGxzID0gW11cblxuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGlmIChyb3cgLSBpIDwgMCkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3Jvdy1pXVtjb2xdXG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3Jvdy1pXVtjb2xdID0gdHJ1ZVxuICAgIGlmICghY2VsbCkgYnJlYWtcbiAgICBjZWxscy5wdXNoKGNlbGwpXG4gIH0gXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgaWYgKHJvdyArIGkgPiBib2FyZFNpemUgLSAxKSBjb250aW51ZTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmRbcm93K2ldW2NvbF1cbiAgICBpZiAoZGVidWcpIGRlYnVnQm9hcmRbcm93K2ldW2NvbF0gPSB0cnVlXG4gICAgaWYgKCFjZWxsKSBicmVha1xuICAgIGNlbGxzLnB1c2goY2VsbClcbiAgfVxuXG4gIHJldHVybiBjaGVja0ZvcldpbihjZWxscywgcGxheWVyKVxufVxuXG5jb25zdCBjaGVja0RpYWdSaWdodCA9IChyb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHBsYXllcjogc3RyaW5nLCBib2FyZDogQm9hcmQsIGRlYnVnQm9hcmQ6IERlYnVnQm9hcmQsIGRlYnVnID0gZmFsc2UpID0+IHtcbiAgbGV0IGNlbGxzID0gW11cbiAgZm9yIChsZXQgaSA9IDM7IGkgPiAwOyBpLS0pIHtcbiAgICBpZiAocm93IC0gaSA8IDAgfHwgY29sIC0gaSA8IDApIGNvbnRpbnVlO1xuICAgIGNvbnN0IGNlbGwgPSBib2FyZFtyb3ctaV1bY29sLWldXG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3Jvdy1pXVtjb2wtaV0gPSB0cnVlXG4gICAgaWYgKCFjZWxsKSBicmVha1xuICAgIGNlbGxzLnB1c2goY2VsbClcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGlmIChyb3cgKyBpID4gYm9hcmRTaXplIC0gMSB8fCBjb2wgKyBpID4gYm9hcmRTaXplIC0gMSkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3JvdytpXVtjb2wraV1cbiAgICBpZiAoZGVidWcpIGRlYnVnQm9hcmRbcm93K2ldW2NvbCtpXSA9IHRydWVcbiAgICBpZiAoIWNlbGwpIGJyZWFrXG4gICAgY2VsbHMucHVzaChjZWxsKVxuICB9XG5cbiAgcmV0dXJuIGNoZWNrRm9yV2luKGNlbGxzLCBwbGF5ZXIpXG59XG5cbmNvbnN0IGNoZWNrRGlhZ0xlZnQgPSAocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBwbGF5ZXI6IHN0cmluZywgYm9hcmQ6IEJvYXJkLCBkZWJ1Z0JvYXJkOiBEZWJ1Z0JvYXJkLCBkZWJ1ZyA9IGZhbHNlKSA9PiB7XG4gIGxldCBjZWxscyA9IFtdXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XG4gICAgaWYgKHJvdyAtIGkgPCAwIHx8IGNvbCArIGkgPiA3KSBjb250aW51ZTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmRbcm93LWldW2NvbCtpXVxuICAgIGlmIChkZWJ1ZykgZGVidWdCb2FyZFtyb3ctaV1bY29sK2ldID0gdHJ1ZVxuICAgIGlmICghY2VsbCkgYnJlYWtcbiAgICBjZWxscy5wdXNoKGNlbGwpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBpZiAocm93ICsgaSA+IGJvYXJkU2l6ZSAtIDEgfHwgY29sIC0gaSA8IDApIGNvbnRpbnVlO1xuICAgIGNvbnN0IGNlbGwgPSBib2FyZFtyb3craV1bY29sLWldXG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3JvdytpXVtjb2wtaV0gPSB0cnVlXG4gICAgaWYgKCFjZWxsKSBicmVha1xuICAgIGNlbGxzLnB1c2goY2VsbClcbiAgfSBcblxuICByZXR1cm4gY2hlY2tGb3JXaW4oY2VsbHMsIHBsYXllcilcbn1cblxuZXhwb3J0IGNvbnN0IGNoZWNrUG9zaXRpb25Gb3JXaW4gPVxuICAocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBwbGF5ZXI6IHN0cmluZywgYm9hcmQ6IEJvYXJkLCBkZWJ1Z0JvYXJkOiBEZWJ1Z0JvYXJkLCBkZWJ1ZyA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGNoZWNrSG9yaXoocm93LCBjb2wsIHBsYXllciwgYm9hcmQsIGRlYnVnQm9hcmQsIGRlYnVnKSkgcmV0dXJuIHRydWVcbiAgICBpZiAoY2hlY2tWZXJ0KHJvdywgY29sLCBwbGF5ZXIsIGJvYXJkLCBkZWJ1Z0JvYXJkLCBkZWJ1ZykpIHJldHVybiB0cnVlXG4gICAgaWYgKGNoZWNrRGlhZ0xlZnQocm93LCBjb2wsIHBsYXllciwgYm9hcmQsIGRlYnVnQm9hcmQsIGRlYnVnKSkgcmV0dXJuIHRydWVcbiAgICBpZiAoY2hlY2tEaWFnUmlnaHQocm93LCBjb2wsIHBsYXllciwgYm9hcmQsIGRlYnVnQm9hcmQsIGRlYnVnKSkgcmV0dXJuIHRydWVcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwic291cmNlUm9vdCI6IiJ9