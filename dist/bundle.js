(()=>{"use strict";var t={877:(t,e,i)=>{i.r(e),i.d(e,{easeBack:()=>D,easeBackIn:()=>I,easeBackInOut:()=>D,easeBackOut:()=>A,easeBounce:()=>M,easeBounceIn:()=>P,easeBounceInOut:()=>z,easeBounceOut:()=>M,easeCircle:()=>x,easeCircleIn:()=>O,easeCircleInOut:()=>x,easeCircleOut:()=>B,easeCubic:()=>u,easeCubicIn:()=>h,easeCubicInOut:()=>u,easeCubicOut:()=>a,easeElastic:()=>E,easeElasticIn:()=>G,easeElasticInOut:()=>T,easeElasticOut:()=>E,easeExp:()=>y,easeExpIn:()=>w,easeExpInOut:()=>y,easeExpOut:()=>S,easeLinear:()=>n,easePoly:()=>d,easePolyIn:()=>c,easePolyInOut:()=>d,easePolyOut:()=>l,easeQuad:()=>o,easeQuadIn:()=>s,easeQuadInOut:()=>o,easeQuadOut:()=>r,easeSin:()=>b,easeSinIn:()=>p,easeSinInOut:()=>b,easeSinOut:()=>m});const n=t=>+t;function s(t){return t*t}function r(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function h(t){return t*t*t}function a(t){return--t*t*t+1}function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var c=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),l=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),d=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),g=Math.PI,f=g/2;function p(t){return 1==+t?1:1-Math.cos(t*f)}function m(t){return Math.sin(t*f)}function b(t){return(1-Math.cos(g*t))/2}function v(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function w(t){return v(1-+t)}function S(t){return 1-v(t)}function y(t){return((t*=2)<=1?v(1-t):2-v(t-1))/2}function O(t){return 1-Math.sqrt(1-t*t)}function B(t){return Math.sqrt(1- --t*t)}function x(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var k=7.5625;function P(t){return 1-M(1-t)}function M(t){return(t=+t)<.36363636363636365?k*t*t:t<.7272727272727273?k*(t-=.5454545454545454)*t+.75:t<.9090909090909091?k*(t-=.8181818181818182)*t+.9375:k*(t-=.9545454545454546)*t+.984375}function z(t){return((t*=2)<=1?1-M(1-t):M(t-1)+1)/2}var C=1.70158,I=function t(e){function i(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,i.overshoot=t,i}(C),A=function t(e){function i(t){return--t*t*((t+1)*e+t)+1}return e=+e,i.overshoot=t,i}(C),D=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(C),_=2*Math.PI,G=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=_);function s(t){return e*v(- --t)*Math.sin((n-t)/i)}return s.amplitude=function(e){return t(e,i*_)},s.period=function(i){return t(e,i)},s}(1,.3),E=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=_);function s(t){return 1-e*v(t=+t)*Math.sin((t+n)/i)}return s.amplitude=function(e){return t(e,i*_)},s.period=function(i){return t(e,i)},s}(1,.3),T=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=_);function s(t){return((t=2*t-1)<0?e*v(-t)*Math.sin((n-t)/i):2-e*v(t)*Math.sin((n+t)/i))/2}return s.amplitude=function(e){return t(e,i*_)},s.period=function(i){return t(e,i)},s}(1,.3)},307:(t,e,i)=>{i.r(e)},221:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const o=i(60),h=r(i(877));i(307),e.default=class{constructor(t=8){this.cellSize=60,this.gridColor="#333333",this.currentPlayer="A",this.isRunning=!1,this.fpsInterval=20,this.animatingDrop=!1,this.dropAnimationY=0,this.canAcceptInput=!0,this.debug=!1,this.scale=2,this.gridSize=t,this.width=this.gridSize*this.cellSize,this.height=this.gridSize*this.cellSize,this.canvas=document.getElementById("canvas"),this.canvas.width=this.gridSize*(this.cellSize+1)*this.scale,this.canvas.height=this.canvas.width,this.context=this.canvas.getContext("2d"),this.context.scale(this.scale,this.scale),this.lastTime=window.performance.now(),this.setupAudio()}setupGrid(){this.grid=[],this.highlighted=[],this.debugGrid=[];for(let t=0;t<this.gridSize;t++){this.grid.push([]),this.highlighted.push([]),this.debugGrid.push([]);for(let t=0;t<this.gridSize;t++)this.grid[this.grid.length-1].push(null),this.highlighted[this.highlighted.length-1].push(!1),this.debugGrid[this.debugGrid.length-1].push(!1)}}getXY(t){return{x:t.offsetX,y:t.offsetY}}getRowColFromXY(t,e){return{row:Math.floor(e/this.cellSize),col:Math.floor(t/this.cellSize)}}outOfBounds(t,e){return e>=this.gridSize||t>=this.gridSize}registerHandlers(){this.canvas.onmousemove=t=>{if(!this.canAcceptInput)return;const{x:e,y:i}=this.getXY(t),{row:n,col:s}=this.getRowColFromXY(e,i);this.outOfBounds(n,s)||(this.clearHighlights(),this.highlighted[n][s]=!0)},this.canvas.onclick=t=>{if(!this.canAcceptInput)return;const{x:e,y:i}=this.getXY(t),{row:n,col:s}=this.getRowColFromXY(e,i);this.outOfBounds(n,s)||(this.clearHighlights(),this.handleBoxClick(n,s))}}handleBoxClick(t,e){const i=this.currentPlayer,{row:n,col:s}=this.dropPiece(e);void 0!==n&&void 0!==s&&(this.lastDrop={clickRow:t,clickCol:e,row:n,col:s,player:i},this.sound.pause(),this.sound.currentTime=0,this.triggerAnimateDrop())}iterateOverCells(t){for(let e=0;e<this.gridSize;e++)for(let i=0;i<this.gridSize;i++)t(e,i)}clearHighlights(){this.iterateOverCells(((t,e)=>this.highlighted[t][e]=!1))}drawHighlight(){for(let t=0;t<this.gridSize;t++)for(let e=0;e<this.gridSize;e++)if(!this.grid[t][e])if(1==this.highlighted[t][e]){const i=this.colorFromPlayer(this.currentPlayer).toLowerCase();this.drawBlock(t,e,i)}else this.clearBlock(t,e)}colorFromPlayer(t){return"A"==t?"Red":"Blue"}startGame(){this.setupGrid(),this.registerHandlers(),this.winner=null,this.lastDrop=null,this.animatingDrop=!1,this.canAcceptInput=!0,this.isRunning=!0,this.runGameLoop()}runGameLoop(t){if(!this.isRunning)return void this.handleWin();window.requestAnimationFrame(this.runGameLoop.bind(this));const e=t,i=e-this.lastTime;i>this.fpsInterval&&(this.lastTime=e-i%this.fpsInterval,this.drawGrid(),this.drawBlocks(),this.drawHighlight(),this.animateDrop(),this.winner&&!this.animatingDrop&&(this.isRunning=!1))}handleWin(){this.canAcceptInput=!1;const t=this.colorFromPlayer(this.winner);this.context.font="48px serif",this.context.fillStyle=this.gridColor;const e=`${t} won!`,i=this.context.measureText(e);this.context.fillText(e,this.width/2-i.width/2,this.height/2-i.actualBoundingBoxAscent/2,this.width)}triggerAnimateDrop(){this.canAcceptInput=!1,this.animatingDrop=!0}animateDrop(){if(!this.lastDrop||!this.animatingDrop)return;window.requestAnimationFrame(this.animateDrop.bind(this));const{clickRow:t,clickCol:e,row:i,col:n,player:s}=this.lastDrop;if(t*this.cellSize+this.dropAnimationY>=this.cellSize*i){this.grid[i][n]=s,console.log("playing sound"),this.playSound();const t=o.checkPositionForWin(i,n,s,this.grid,this.gridSize,this.debugGrid,this.debug);this.animatingDrop=!1,this.dropAnimationY=0,this.debug&&this.setClearDebugTimeout(),t?(this.debug&&this.clearDebugGrid(),this.winner=s):(this.togglePlayer(),this.canAcceptInput=!0),this.runGameLoop()}else this.drawBlockAtPoint(e*this.cellSize,t*this.cellSize+this.dropAnimationY,this.colorFromPlayer(s)),this.dropAnimationY+=h.easePolyIn(1.2)}drawBlockAtPoint(t,e,i){this.context.fillStyle=i,this.context.fillRect(t+1,e+1,this.cellSize-1,this.cellSize-1)}drawBlock(t,e,i){this.context.fillStyle=i,this.context.fillRect(e*this.cellSize+1,t*this.cellSize+1,this.cellSize-1,this.cellSize-1)}clearBlock(t,e){this.context.clearRect(e*this.cellSize+1,t*this.cellSize+1,this.cellSize-1,this.cellSize-1)}setClearDebugTimeout(){setTimeout((()=>{this.clearDebugGrid()}),1e3)}clearDebugGrid(){this.iterateOverCells(((t,e)=>this.debugGrid[t][e]=!1))}drawBlocks(){this.iterateOverCells(((t,e)=>{this.debugGrid[t][e]?this.drawBlock(t,e,"green"):"A"==this.grid[t][e]?this.drawBlock(t,e,"red"):"B"==this.grid[t][e]?this.drawBlock(t,e,"blue"):this.drawBlock(t,e,"white")}))}drawGrid(){this.context.strokeStyle=this.gridColor;for(let t=0;t<=this.width;t+=this.cellSize)this.context.beginPath(),this.context.moveTo(t,0),this.context.lineTo(t,this.height),this.context.stroke();for(let t=0;t<=this.height;t+=this.cellSize)this.context.beginPath(),this.context.moveTo(0,t),this.context.lineTo(this.width,t),this.context.stroke()}togglePlayer(){"A"==this.currentPlayer?this.currentPlayer="B":this.currentPlayer="A"}dropPiece(t){for(let e=this.gridSize-1;e>=0;e--)if(!this.grid[e][t])return{row:e,col:t}}toggleDebug(){this.debug=!this.debug}setupAudio(){this.sound=document.createElement("audio"),this.sound.src="assets/ping.mp3",this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound)}restartSound(){this.sound.currentTime=0}playSound(){this.sound.paused?this.sound.play():this.restartSound()}}},514:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.canvas=document.createElement("canvas"),this.canvas.id="canvas",this.container=document.createElement("div"),this.container.id="game",this.debugBtn=document.createElement("button"),this.debugBtn.id="debugBtn",this.debugBtn.innerHTML="Toggle Debug",this.debugBtn.classList.add("btn");const t=document.createElement("div");this.startOverBtn=document.createElement("button"),this.startOverBtn.id="startOverBtn",this.startOverBtn.classList.add("btn"),this.startOverBtn.innerHTML="Start Over",t.appendChild(this.startOverBtn),t.appendChild(this.debugBtn),this.container.appendChild(this.canvas),this.container.appendChild(t),document.body.appendChild(this.container)}toggleDebug(t){t.toggleDebug(),this.debugBtn.classList.toggle("disabled")}addEventListeners(t){this.startOverBtn.addEventListener("click",(()=>t.startGame())),this.debugBtn.addEventListener("click",(()=>this.toggleDebug(t)))}}},607:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(i(221)),r=new(n(i(514)).default),o=new s.default;r.addEventListeners(o),o.startGame()},60:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkPositionForWin=void 0;const i=(t,e)=>{let i=0;for(let n=0;n<t.length;n++)if(t[n]==e){if(i++,4==i)return console.log("won"),!0}else i=0};e.checkPositionForWin=(t,e,n,s,r,o,h=!1)=>!!(((t,e,n,s,r,o,h=!1)=>{let a=[];for(let i=3;i>0;i--){if(e-i<0)continue;const n=s[t][e-i];if(h&&(o[t][e-i]=!0),!n)break;a.push(n)}for(let i=0;i<4;i++){if(e+i>r-1)continue;const n=s[t][e+i];if(h&&(o[t][e+i]=!0),!n)break;a.push(n)}return i(a,n)})(t,e,n,s,r,o,h)||((t,e,n,s,r,o,h=!1)=>{let a=[];for(let i=3;i>0;i--){if(t-i<0)continue;const n=s[t-i][e];if(h&&(o[t-i][e]=!0),!n)break;a.push(n)}for(let i=0;i<4;i++){if(t+i>r-1)continue;const n=s[t+i][e];if(h&&(o[t+i][e]=!0),!n)break;a.push(n)}return i(a,n)})(t,e,n,s,r,o,h)||((t,e,n,s,r,o,h=!1)=>{let a=[];for(let i=3;i>0;i--){if(t-i<0||e+i>r-1)continue;const n=s[t-i][e+i];if(h&&(o[t-i][e+i]=!0),!n)break;a.push(n)}for(let i=0;i<4;i++){if(t+i>r-1||e-i<0)continue;const n=s[t+i][e-i];if(h&&(o[t+i][e-i]=!0),!n)break;a.push(n)}return i(a,n)})(t,e,n,s,r,o,h)||((t,e,n,s,r,o,h=!1)=>{let a=[];for(let i=3;i>0;i--){if(t-i<0||e-i<0)continue;const n=s[t-i][e-i];if(h&&(o[t-i][e-i]=!0),!n)break;a.push(n)}for(let i=0;i<4;i++){if(t+i>r-1||e+i>r-1)continue;const n=s[t+i][e+i];if(h&&(o[t+i][e+i]=!0),!n)break;a.push(n)}return i(a,n)})(t,e,n,s,r,o,h))}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2xpbmVhci5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL3F1YWQuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9jdWJpYy5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL3BvbHkuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9zaW4uanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL25vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9tYXRoLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvZXhwLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY2lyY2xlLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvYm91bmNlLmpzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvYmFjay5qcyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0Ly4vbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2VsYXN0aWMuanMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL3NyYy9HYW1lLnRzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9zcmMvTGF5b3V0LnRzIiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC8uL3NyYy93aW5DaGVja3MudHMiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zbmFrZS10eXBlc2NyaXB0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc25ha2UtdHlwZXNjcmlwdC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3NuYWtlLXR5cGVzY3JpcHQvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImxpbmVhciIsInQiLCJxdWFkSW4iLCJxdWFkT3V0IiwicXVhZEluT3V0IiwiY3ViaWNJbiIsImN1YmljT3V0IiwiY3ViaWNJbk91dCIsInBvbHlJbiIsImN1c3RvbSIsImUiLCJNYXRoIiwicG93IiwiZXhwb25lbnQiLCJwb2x5T3V0IiwicG9seUluT3V0IiwicGkiLCJQSSIsImhhbGZQaSIsInNpbkluIiwiY29zIiwic2luT3V0Iiwic2luIiwic2luSW5PdXQiLCJ0cG10IiwieCIsImV4cEluIiwiZXhwT3V0IiwiZXhwSW5PdXQiLCJjaXJjbGVJbiIsInNxcnQiLCJjaXJjbGVPdXQiLCJjaXJjbGVJbk91dCIsImIwIiwiYm91bmNlSW4iLCJib3VuY2VPdXQiLCJib3VuY2VJbk91dCIsIm92ZXJzaG9vdCIsImJhY2tJbiIsInMiLCJiYWNrT3V0IiwiYmFja0luT3V0IiwidGF1IiwiZWxhc3RpY0luIiwiYSIsInAiLCJhc2luIiwibWF4IiwiYW1wbGl0dWRlIiwicGVyaW9kIiwiZWxhc3RpY091dCIsImVsYXN0aWNJbk91dCIsImdyaWRTaXplIiwiY2VsbFNpemUiLCJncmlkQ29sb3IiLCJjdXJyZW50UGxheWVyIiwiaXNSdW5uaW5nIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRpbmdEcm9wIiwiZHJvcEFuaW1hdGlvblkiLCJjYW5BY2NlcHRJbnB1dCIsImRlYnVnIiwic2NhbGUiLCJ0aGlzIiwid2lkdGgiLCJoZWlnaHQiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJsYXN0VGltZSIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwibm93Iiwic2V0dXBBdWRpbyIsImdyaWQiLCJoaWdobGlnaHRlZCIsImRlYnVnR3JpZCIsInJvdyIsInB1c2giLCJjb2wiLCJsZW5ndGgiLCJvZmZzZXRYIiwieSIsIm9mZnNldFkiLCJmbG9vciIsIm9ubW91c2Vtb3ZlIiwiZ2V0WFkiLCJnZXRSb3dDb2xGcm9tWFkiLCJvdXRPZkJvdW5kcyIsImNsZWFySGlnaGxpZ2h0cyIsIm9uY2xpY2siLCJoYW5kbGVCb3hDbGljayIsInBsYXllciIsInBsYWNlZFJvdyIsInBsYWNlZENvbCIsImRyb3BQaWVjZSIsImxhc3REcm9wIiwiY2xpY2tSb3ciLCJjbGlja0NvbCIsInNvdW5kIiwicGF1c2UiLCJjdXJyZW50VGltZSIsInRyaWdnZXJBbmltYXRlRHJvcCIsImZuIiwiaXRlcmF0ZU92ZXJDZWxscyIsImNvbG9yIiwiY29sb3JGcm9tUGxheWVyIiwidG9Mb3dlckNhc2UiLCJkcmF3QmxvY2siLCJjbGVhckJsb2NrIiwic2V0dXBHcmlkIiwicmVnaXN0ZXJIYW5kbGVycyIsIndpbm5lciIsInJ1bkdhbWVMb29wIiwibmV3VGltZSIsImhhbmRsZVdpbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJ0aW1lRWxhcHNlZCIsImRyYXdHcmlkIiwiZHJhd0Jsb2NrcyIsImRyYXdIaWdobGlnaHQiLCJhbmltYXRlRHJvcCIsIndpbm5lckNvbG9yIiwiZm9udCIsImZpbGxTdHlsZSIsInRleHQiLCJ0ZXh0TWV0cmljcyIsIm1lYXN1cmVUZXh0IiwiZmlsbFRleHQiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsImNvbnNvbGUiLCJsb2ciLCJwbGF5U291bmQiLCJ3b24iLCJjaGVja1Bvc2l0aW9uRm9yV2luIiwic2V0Q2xlYXJEZWJ1Z1RpbWVvdXQiLCJjbGVhckRlYnVnR3JpZCIsInRvZ2dsZVBsYXllciIsImRyYXdCbG9ja0F0UG9pbnQiLCJkMyIsImVhc2VQb2x5SW4iLCJmaWxsUmVjdCIsImNsZWFyUmVjdCIsInNldFRpbWVvdXQiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImRpc3BsYXkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJwYXVzZWQiLCJwbGF5IiwicmVzdGFydFNvdW5kIiwiaWQiLCJjb250YWluZXIiLCJkZWJ1Z0J0biIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImFkZCIsImJ1dHRvbkNvbnRhaW5lciIsInN0YXJ0T3ZlckJ0biIsImdhbWUiLCJ0b2dnbGVEZWJ1ZyIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGFydEdhbWUiLCJsYXlvdXQiLCJhZGRFdmVudExpc3RlbmVycyIsImNoZWNrRm9yV2luIiwiY2VsbHMiLCJjb3VudCIsImkiLCJib2FyZCIsImJvYXJkU2l6ZSIsImRlYnVnQm9hcmQiLCJjZWxsIiwiY2hlY2tIb3JpeiIsImNoZWNrVmVydCIsImNoZWNrRGlhZ0xlZnQiLCJjaGVja0RpYWdSaWdodCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIl0sIm1hcHBpbmdzIjoidXRCQUFPLE1BQU1BLEVB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U0ssS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVQLEVBQVNNLElBQzVFRSxPQUFPQyxlQUFlVCxFQUFTTSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQW9CUyxFQUFJLENBQUNLLEVBQUtDLElBQVNMLE9BQU9NLFVBQVVDLGVBQWVaLEtBQUtTLEVBQUtDLEdDQ2pGZixFQUFvQmtCLEVBQUtoQixJQUNILG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlVCxFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEWCxPQUFPQyxlQUFlVCxFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0NGdkRyQixFQUFvQixNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBsaW5lYXIgPSB0ID0+ICt0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHF1YWRJbih0KSB7XG4gIHJldHVybiB0ICogdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YWRPdXQodCkge1xuICByZXR1cm4gdCAqICgyIC0gdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWFkSW5PdXQodCkge1xuICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCA6IC0tdCAqICgyIC0gdCkgKyAxKSAvIDI7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsInZhciBleHBvbmVudCA9IDM7XG5cbmV4cG9ydCB2YXIgcG9seUluID0gKGZ1bmN0aW9uIGN1c3RvbShlKSB7XG4gIGUgPSArZTtcblxuICBmdW5jdGlvbiBwb2x5SW4odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh0LCBlKTtcbiAgfVxuXG4gIHBvbHlJbi5leHBvbmVudCA9IGN1c3RvbTtcblxuICByZXR1cm4gcG9seUluO1xufSkoZXhwb25lbnQpO1xuXG5leHBvcnQgdmFyIHBvbHlPdXQgPSAoZnVuY3Rpb24gY3VzdG9tKGUpIHtcbiAgZSA9ICtlO1xuXG4gIGZ1bmN0aW9uIHBvbHlPdXQodCkge1xuICAgIHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHQsIGUpO1xuICB9XG5cbiAgcG9seU91dC5leHBvbmVudCA9IGN1c3RvbTtcblxuICByZXR1cm4gcG9seU91dDtcbn0pKGV4cG9uZW50KTtcblxuZXhwb3J0IHZhciBwb2x5SW5PdXQgPSAoZnVuY3Rpb24gY3VzdG9tKGUpIHtcbiAgZSA9ICtlO1xuXG4gIGZ1bmN0aW9uIHBvbHlJbk91dCh0KSB7XG4gICAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gTWF0aC5wb3codCwgZSkgOiAyIC0gTWF0aC5wb3coMiAtIHQsIGUpKSAvIDI7XG4gIH1cblxuICBwb2x5SW5PdXQuZXhwb25lbnQgPSBjdXN0b207XG5cbiAgcmV0dXJuIHBvbHlJbk91dDtcbn0pKGV4cG9uZW50KTtcbiIsInZhciBwaSA9IE1hdGguUEksXG4gICAgaGFsZlBpID0gcGkgLyAyO1xuXG5leHBvcnQgZnVuY3Rpb24gc2luSW4odCkge1xuICByZXR1cm4gKCt0ID09PSAxKSA/IDEgOiAxIC0gTWF0aC5jb3ModCAqIGhhbGZQaSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaW5PdXQodCkge1xuICByZXR1cm4gTWF0aC5zaW4odCAqIGhhbGZQaSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaW5Jbk91dCh0KSB7XG4gIHJldHVybiAoMSAtIE1hdGguY29zKHBpICogdCkpIC8gMjtcbn1cbiIsIi8vIHRwbXQgaXMgdHdvIHBvd2VyIG1pbnVzIHRlbiB0aW1lcyB0IHNjYWxlZCB0byBbMCwxXVxuZXhwb3J0IGZ1bmN0aW9uIHRwbXQoeCkge1xuICByZXR1cm4gKE1hdGgucG93KDIsIC0xMCAqIHgpIC0gMC4wMDA5NzY1NjI1KSAqIDEuMDAwOTc3NTE3MTA2NTQ5NDtcbn1cbiIsImltcG9ydCB7dHBtdH0gZnJvbSBcIi4vbWF0aC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwSW4odCkge1xuICByZXR1cm4gdHBtdCgxIC0gK3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwT3V0KHQpIHtcbiAgcmV0dXJuIDEgLSB0cG10KHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwSW5PdXQodCkge1xuICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0cG10KDEgLSB0KSA6IDIgLSB0cG10KHQgLSAxKSkgLyAyO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZUluKHQpIHtcbiAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZU91dCh0KSB7XG4gIHJldHVybiBNYXRoLnNxcnQoMSAtIC0tdCAqIHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2lyY2xlSW5PdXQodCkge1xuICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCkgOiBNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSAvIDI7XG59XG4iLCJ2YXIgYjEgPSA0IC8gMTEsXG4gICAgYjIgPSA2IC8gMTEsXG4gICAgYjMgPSA4IC8gMTEsXG4gICAgYjQgPSAzIC8gNCxcbiAgICBiNSA9IDkgLyAxMSxcbiAgICBiNiA9IDEwIC8gMTEsXG4gICAgYjcgPSAxNSAvIDE2LFxuICAgIGI4ID0gMjEgLyAyMixcbiAgICBiOSA9IDYzIC8gNjQsXG4gICAgYjAgPSAxIC8gYjEgLyBiMTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZUluKHQpIHtcbiAgcmV0dXJuIDEgLSBib3VuY2VPdXQoMSAtIHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlT3V0KHQpIHtcbiAgcmV0dXJuICh0ID0gK3QpIDwgYjEgPyBiMCAqIHQgKiB0IDogdCA8IGIzID8gYjAgKiAodCAtPSBiMikgKiB0ICsgYjQgOiB0IDwgYjYgPyBiMCAqICh0IC09IGI1KSAqIHQgKyBiNyA6IGIwICogKHQgLT0gYjgpICogdCArIGI5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlSW5PdXQodCkge1xuICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyAxIC0gYm91bmNlT3V0KDEgLSB0KSA6IGJvdW5jZU91dCh0IC0gMSkgKyAxKSAvIDI7XG59XG4iLCJ2YXIgb3ZlcnNob290ID0gMS43MDE1ODtcblxuZXhwb3J0IHZhciBiYWNrSW4gPSAoZnVuY3Rpb24gY3VzdG9tKHMpIHtcbiAgcyA9ICtzO1xuXG4gIGZ1bmN0aW9uIGJhY2tJbih0KSB7XG4gICAgcmV0dXJuICh0ID0gK3QpICogdCAqIChzICogKHQgLSAxKSArIHQpO1xuICB9XG5cbiAgYmFja0luLm92ZXJzaG9vdCA9IGN1c3RvbTtcblxuICByZXR1cm4gYmFja0luO1xufSkob3ZlcnNob290KTtcblxuZXhwb3J0IHZhciBiYWNrT3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShzKSB7XG4gIHMgPSArcztcblxuICBmdW5jdGlvbiBiYWNrT3V0KHQpIHtcbiAgICByZXR1cm4gLS10ICogdCAqICgodCArIDEpICogcyArIHQpICsgMTtcbiAgfVxuXG4gIGJhY2tPdXQub3ZlcnNob290ID0gY3VzdG9tO1xuXG4gIHJldHVybiBiYWNrT3V0O1xufSkob3ZlcnNob290KTtcblxuZXhwb3J0IHZhciBiYWNrSW5PdXQgPSAoZnVuY3Rpb24gY3VzdG9tKHMpIHtcbiAgcyA9ICtzO1xuXG4gIGZ1bmN0aW9uIGJhY2tJbk91dCh0KSB7XG4gICAgcmV0dXJuICgodCAqPSAyKSA8IDEgPyB0ICogdCAqICgocyArIDEpICogdCAtIHMpIDogKHQgLT0gMikgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAyKSAvIDI7XG4gIH1cblxuICBiYWNrSW5PdXQub3ZlcnNob290ID0gY3VzdG9tO1xuXG4gIHJldHVybiBiYWNrSW5PdXQ7XG59KShvdmVyc2hvb3QpO1xuIiwiaW1wb3J0IHt0cG10fSBmcm9tIFwiLi9tYXRoLmpzXCI7XG5cbnZhciB0YXUgPSAyICogTWF0aC5QSSxcbiAgICBhbXBsaXR1ZGUgPSAxLFxuICAgIHBlcmlvZCA9IDAuMztcblxuZXhwb3J0IHZhciBlbGFzdGljSW4gPSAoZnVuY3Rpb24gY3VzdG9tKGEsIHApIHtcbiAgdmFyIHMgPSBNYXRoLmFzaW4oMSAvIChhID0gTWF0aC5tYXgoMSwgYSkpKSAqIChwIC89IHRhdSk7XG5cbiAgZnVuY3Rpb24gZWxhc3RpY0luKHQpIHtcbiAgICByZXR1cm4gYSAqIHRwbXQoLSgtLXQpKSAqIE1hdGguc2luKChzIC0gdCkgLyBwKTtcbiAgfVxuXG4gIGVsYXN0aWNJbi5hbXBsaXR1ZGUgPSBmdW5jdGlvbihhKSB7IHJldHVybiBjdXN0b20oYSwgcCAqIHRhdSk7IH07XG4gIGVsYXN0aWNJbi5wZXJpb2QgPSBmdW5jdGlvbihwKSB7IHJldHVybiBjdXN0b20oYSwgcCk7IH07XG5cbiAgcmV0dXJuIGVsYXN0aWNJbjtcbn0pKGFtcGxpdHVkZSwgcGVyaW9kKTtcblxuZXhwb3J0IHZhciBlbGFzdGljT3V0ID0gKGZ1bmN0aW9uIGN1c3RvbShhLCBwKSB7XG4gIHZhciBzID0gTWF0aC5hc2luKDEgLyAoYSA9IE1hdGgubWF4KDEsIGEpKSkgKiAocCAvPSB0YXUpO1xuXG4gIGZ1bmN0aW9uIGVsYXN0aWNPdXQodCkge1xuICAgIHJldHVybiAxIC0gYSAqIHRwbXQodCA9ICt0KSAqIE1hdGguc2luKCh0ICsgcykgLyBwKTtcbiAgfVxuXG4gIGVsYXN0aWNPdXQuYW1wbGl0dWRlID0gZnVuY3Rpb24oYSkgeyByZXR1cm4gY3VzdG9tKGEsIHAgKiB0YXUpOyB9O1xuICBlbGFzdGljT3V0LnBlcmlvZCA9IGZ1bmN0aW9uKHApIHsgcmV0dXJuIGN1c3RvbShhLCBwKTsgfTtcblxuICByZXR1cm4gZWxhc3RpY091dDtcbn0pKGFtcGxpdHVkZSwgcGVyaW9kKTtcblxuZXhwb3J0IHZhciBlbGFzdGljSW5PdXQgPSAoZnVuY3Rpb24gY3VzdG9tKGEsIHApIHtcbiAgdmFyIHMgPSBNYXRoLmFzaW4oMSAvIChhID0gTWF0aC5tYXgoMSwgYSkpKSAqIChwIC89IHRhdSk7XG5cbiAgZnVuY3Rpb24gZWxhc3RpY0luT3V0KHQpIHtcbiAgICByZXR1cm4gKCh0ID0gdCAqIDIgLSAxKSA8IDBcbiAgICAgICAgPyBhICogdHBtdCgtdCkgKiBNYXRoLnNpbigocyAtIHQpIC8gcClcbiAgICAgICAgOiAyIC0gYSAqIHRwbXQodCkgKiBNYXRoLnNpbigocyArIHQpIC8gcCkpIC8gMjtcbiAgfVxuXG4gIGVsYXN0aWNJbk91dC5hbXBsaXR1ZGUgPSBmdW5jdGlvbihhKSB7IHJldHVybiBjdXN0b20oYSwgcCAqIHRhdSk7IH07XG4gIGVsYXN0aWNJbk91dC5wZXJpb2QgPSBmdW5jdGlvbihwKSB7IHJldHVybiBjdXN0b20oYSwgcCk7IH07XG5cbiAgcmV0dXJuIGVsYXN0aWNJbk91dDtcbn0pKGFtcGxpdHVkZSwgcGVyaW9kKTtcbiIsImltcG9ydCB7IENlbGwsIFBsYXllciB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBjaGVja1Bvc2l0aW9uRm9yV2luIH0gZnJvbSBcIi4vd2luQ2hlY2tzXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDMtZWFzZVwiO1xuaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHByaXZhdGUgZ3JpZFNpemU7XG4gIHByaXZhdGUgY2VsbFNpemUgPSA2MDtcbiAgcHJpdmF0ZSBncmlkQ29sb3IgPSBcIiMzMzMzMzNcIjtcbiAgcHJpdmF0ZSB3aWR0aDtcbiAgcHJpdmF0ZSBoZWlnaHQ7XG4gIHByaXZhdGUgZ3JpZDogQ2VsbFtdW107XG4gIHByaXZhdGUgZGVidWdHcmlkOiBib29sZWFuW11bXTtcbiAgcHJpdmF0ZSBoaWdobGlnaHRlZDogYm9vbGVhbltdW107XG4gIHByaXZhdGUgd2lubmVyOiBQbGF5ZXI7XG4gIHByaXZhdGUgY3VycmVudFBsYXllcjogUGxheWVyID0gXCJBXCI7XG4gIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XG4gIHByaXZhdGUgbGFzdFRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBmcHNJbnRlcnZhbCA9IDIwO1xuICBwcml2YXRlIGFuaW1hdGluZ0Ryb3AgPSBmYWxzZTtcbiAgcHJpdmF0ZSBkcm9wQW5pbWF0aW9uWSA9IDA7XG4gIHByaXZhdGUgbGFzdERyb3A6IHtcbiAgICBjbGlja0NvbDogbnVtYmVyO1xuICAgIGNsaWNrUm93OiBudW1iZXI7XG4gICAgcm93OiBudW1iZXI7XG4gICAgY29sOiBudW1iZXI7XG4gICAgcGxheWVyOiBQbGF5ZXI7XG4gIH07XG4gIHByaXZhdGUgY2FuQWNjZXB0SW5wdXQgPSB0cnVlO1xuICBwcml2YXRlIGRlYnVnID0gZmFsc2U7XG4gIHByaXZhdGUgc291bmQ6IEhUTUxBdWRpb0VsZW1lbnQ7XG4gIHByaXZhdGUgc2NhbGUgPSAyO1xuXG4gIGNvbnN0cnVjdG9yKGdyaWRTaXplID0gOCkge1xuICAgIHRoaXMuZ3JpZFNpemUgPSBncmlkU2l6ZTtcbiAgICB0aGlzLndpZHRoID0gdGhpcy5ncmlkU2l6ZSAqIHRoaXMuY2VsbFNpemU7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdyaWRTaXplICogdGhpcy5jZWxsU2l6ZTtcblxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmdyaWRTaXplICogKHRoaXMuY2VsbFNpemUgKyAxKSAqIHRoaXMuc2NhbGU7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuY29udGV4dC5zY2FsZSh0aGlzLnNjYWxlLCB0aGlzLnNjYWxlKVxuICAgIHRoaXMubGFzdFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICB0aGlzLnNldHVwQXVkaW8oKTtcbiAgfVxuXG4gIHNldHVwR3JpZCgpIHtcbiAgICB0aGlzLmdyaWQgPSBbXTtcbiAgICB0aGlzLmhpZ2hsaWdodGVkID0gW107XG4gICAgdGhpcy5kZWJ1Z0dyaWQgPSBbXTtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmdyaWRTaXplOyByb3crKykge1xuICAgICAgdGhpcy5ncmlkLnB1c2goW10pO1xuICAgICAgdGhpcy5oaWdobGlnaHRlZC5wdXNoKFtdKTtcbiAgICAgIHRoaXMuZGVidWdHcmlkLnB1c2goW10pO1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5ncmlkU2l6ZTsgY29sKyspIHtcbiAgICAgICAgdGhpcy5ncmlkW3RoaXMuZ3JpZC5sZW5ndGggLSAxXS5wdXNoKG51bGwpO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkW3RoaXMuaGlnaGxpZ2h0ZWQubGVuZ3RoIC0gMV0ucHVzaChmYWxzZSk7XG4gICAgICAgIHRoaXMuZGVidWdHcmlkW3RoaXMuZGVidWdHcmlkLmxlbmd0aCAtIDFdLnB1c2goZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0WFkoZTogTW91c2VFdmVudCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBlLm9mZnNldFgsXG4gICAgICB5OiBlLm9mZnNldFksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Um93Q29sRnJvbVhZKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdzogTWF0aC5mbG9vcih5IC8gdGhpcy5jZWxsU2l6ZSksXG4gICAgICBjb2w6IE1hdGguZmxvb3IoeCAvIHRoaXMuY2VsbFNpemUpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIG91dE9mQm91bmRzKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikge1xuICAgIHJldHVybiBjb2wgPj0gdGhpcy5ncmlkU2l6ZSB8fCByb3cgPj0gdGhpcy5ncmlkU2l6ZTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJIYW5kbGVycygpIHtcbiAgICB0aGlzLmNhbnZhcy5vbm1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY2FuQWNjZXB0SW5wdXQpIHJldHVybjtcblxuICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmdldFhZKGUpO1xuICAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5nZXRSb3dDb2xGcm9tWFkoeCwgeSk7XG4gICAgICBpZiAodGhpcy5vdXRPZkJvdW5kcyhyb3csIGNvbCkpIHJldHVybjtcblxuICAgICAgdGhpcy5jbGVhckhpZ2hsaWdodHMoKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRbcm93XVtjb2xdID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5jYW52YXMub25jbGljayA9IChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY2FuQWNjZXB0SW5wdXQpIHJldHVybjtcblxuICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmdldFhZKGUpO1xuICAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5nZXRSb3dDb2xGcm9tWFkoeCwgeSk7XG4gICAgICBpZiAodGhpcy5vdXRPZkJvdW5kcyhyb3csIGNvbCkpIHJldHVybjtcblxuICAgICAgdGhpcy5jbGVhckhpZ2hsaWdodHMoKTtcbiAgICAgIHRoaXMuaGFuZGxlQm94Q2xpY2socm93LCBjb2wpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJveENsaWNrKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikge1xuICAgIGNvbnN0IHBsYXllciA9IHRoaXMuY3VycmVudFBsYXllcjtcbiAgICBjb25zdCB7IHJvdzogcGxhY2VkUm93LCBjb2w6IHBsYWNlZENvbCB9ID0gdGhpcy5kcm9wUGllY2UoY29sKTtcbiAgICBpZiAodHlwZW9mIHBsYWNlZFJvdyA9PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBwbGFjZWRDb2wgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcblxuICAgIHRoaXMubGFzdERyb3AgPSB7XG4gICAgICBjbGlja1Jvdzogcm93LFxuICAgICAgY2xpY2tDb2w6IGNvbCxcbiAgICAgIHJvdzogcGxhY2VkUm93LFxuICAgICAgY29sOiBwbGFjZWRDb2wsXG4gICAgICBwbGF5ZXIsXG4gICAgfTtcbiAgICB0aGlzLnNvdW5kLnBhdXNlKClcbiAgICB0aGlzLnNvdW5kLmN1cnJlbnRUaW1lID0gMFxuICAgIHRoaXMudHJpZ2dlckFuaW1hdGVEcm9wKCk7XG4gIH1cblxuICBwcml2YXRlIGl0ZXJhdGVPdmVyQ2VsbHMoZm46IChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmdyaWRTaXplOyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5ncmlkU2l6ZTsgY29sKyspIHtcbiAgICAgICAgZm4ocm93LCBjb2wpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFySGlnaGxpZ2h0cygpIHtcbiAgICB0aGlzLml0ZXJhdGVPdmVyQ2VsbHMoKHJvdywgY29sKSA9PiAodGhpcy5oaWdobGlnaHRlZFtyb3ddW2NvbF0gPSBmYWxzZSkpO1xuICB9XG5cbiAgZHJhd0hpZ2hsaWdodCgpIHtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLmdyaWRTaXplOyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5ncmlkU2l6ZTsgY29sKyspIHtcbiAgICAgICAgaWYgKCEhdGhpcy5ncmlkW3Jvd11bY29sXSkgY29udGludWU7XG5cbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRbcm93XVtjb2xdID09IHRydWUpIHtcbiAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY29sb3JGcm9tUGxheWVyKHRoaXMuY3VycmVudFBsYXllcikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB0aGlzLmRyYXdCbG9jayhyb3csIGNvbCwgY29sb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xlYXJCbG9jayhyb3csIGNvbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbG9yRnJvbVBsYXllcihwbGF5ZXI6IFBsYXllcikge1xuICAgIHJldHVybiBwbGF5ZXIgPT0gXCJBXCIgPyBcIlJlZFwiIDogXCJCbHVlXCI7XG4gIH1cblxuICBzdGFydEdhbWUoKSB7XG4gICAgdGhpcy5zZXR1cEdyaWQoKTtcbiAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcnMoKTtcbiAgICB0aGlzLndpbm5lciA9IG51bGw7XG4gICAgdGhpcy5sYXN0RHJvcCA9IG51bGw7XG4gICAgdGhpcy5hbmltYXRpbmdEcm9wID0gZmFsc2U7XG4gICAgdGhpcy5jYW5BY2NlcHRJbnB1dCA9IHRydWU7XG4gICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMucnVuR2FtZUxvb3AoKTtcbiAgfVxuXG4gIHJ1bkdhbWVMb29wKG5ld1RpbWU/OiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICB0aGlzLmhhbmRsZVdpbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5ydW5HYW1lTG9vcC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ld1RpbWU7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgaWYgKHRpbWVFbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xuICAgICAgdGhpcy5sYXN0VGltZSA9IG5vdyAtICh0aW1lRWxhcHNlZCAlIHRoaXMuZnBzSW50ZXJ2YWwpO1xuXG4gICAgICB0aGlzLmRyYXdHcmlkKCk7XG4gICAgICB0aGlzLmRyYXdCbG9ja3MoKTtcbiAgICAgIHRoaXMuZHJhd0hpZ2hsaWdodCgpO1xuICAgICAgdGhpcy5hbmltYXRlRHJvcCgpO1xuXG4gICAgICBpZiAodGhpcy53aW5uZXIgJiYgIXRoaXMuYW5pbWF0aW5nRHJvcCkge1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVdpbigpIHtcbiAgICB0aGlzLmNhbkFjY2VwdElucHV0ID0gZmFsc2U7XG4gICAgY29uc3Qgd2lubmVyQ29sb3IgPSB0aGlzLmNvbG9yRnJvbVBsYXllcih0aGlzLndpbm5lcik7XG5cbiAgICB0aGlzLmNvbnRleHQuZm9udCA9IFwiNDhweCBzZXJpZlwiO1xuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmdyaWRDb2xvcjtcblxuICAgIGNvbnN0IHRleHQgPSBgJHt3aW5uZXJDb2xvcn0gd29uIWA7XG4gICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KFxuICAgICAgdGV4dCxcbiAgICAgIHRoaXMud2lkdGggLyAyIC0gdGV4dE1ldHJpY3Mud2lkdGggLyAyLFxuICAgICAgdGhpcy5oZWlnaHQgLyAyIC0gdGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgLyAyLFxuICAgICAgdGhpcy53aWR0aFxuICAgICk7XG4gIH1cblxuICB0cmlnZ2VyQW5pbWF0ZURyb3AoKSB7XG4gICAgdGhpcy5jYW5BY2NlcHRJbnB1dCA9IGZhbHNlO1xuICAgIHRoaXMuYW5pbWF0aW5nRHJvcCA9IHRydWU7XG4gIH1cblxuICBhbmltYXRlRHJvcCgpIHtcbiAgICBpZiAoIXRoaXMubGFzdERyb3AgfHwgIXRoaXMuYW5pbWF0aW5nRHJvcCkgcmV0dXJuO1xuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVEcm9wLmJpbmQodGhpcykpO1xuXG4gICAgY29uc3QgeyBjbGlja1JvdywgY2xpY2tDb2wsIHJvdywgY29sLCBwbGF5ZXIgfSA9IHRoaXMubGFzdERyb3A7XG4gICAgY29uc3QgZHJvcEZpbmlzaGVkID1cbiAgICAgIGNsaWNrUm93ICogdGhpcy5jZWxsU2l6ZSArIHRoaXMuZHJvcEFuaW1hdGlvblkgPj0gdGhpcy5jZWxsU2l6ZSAqIHJvdztcblxuICAgIGlmIChkcm9wRmluaXNoZWQpIHtcbiAgICAgIHRoaXMuZ3JpZFtyb3ddW2NvbF0gPSBwbGF5ZXI7XG4gICAgICBjb25zb2xlLmxvZyhcInBsYXlpbmcgc291bmRcIik7XG4gICAgICB0aGlzLnBsYXlTb3VuZCgpO1xuICAgICAgY29uc3Qgd29uID0gY2hlY2tQb3NpdGlvbkZvcldpbihcbiAgICAgICAgcm93LFxuICAgICAgICBjb2wsXG4gICAgICAgIHBsYXllcixcbiAgICAgICAgdGhpcy5ncmlkLFxuICAgICAgICB0aGlzLmdyaWRTaXplLFxuICAgICAgICB0aGlzLmRlYnVnR3JpZCxcbiAgICAgICAgdGhpcy5kZWJ1ZyxcbiAgICAgICk7XG4gICAgICB0aGlzLmFuaW1hdGluZ0Ryb3AgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJvcEFuaW1hdGlvblkgPSAwO1xuXG4gICAgICBpZiAodGhpcy5kZWJ1ZykgdGhpcy5zZXRDbGVhckRlYnVnVGltZW91dCgpO1xuICAgICAgaWYgKHdvbikge1xuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgdGhpcy5jbGVhckRlYnVnR3JpZCgpO1xuICAgICAgICB0aGlzLndpbm5lciA9IHBsYXllcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9nZ2xlUGxheWVyKCk7XG4gICAgICAgIHRoaXMuY2FuQWNjZXB0SW5wdXQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5ydW5HYW1lTG9vcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYXdCbG9ja0F0UG9pbnQoXG4gICAgICAgIGNsaWNrQ29sICogdGhpcy5jZWxsU2l6ZSxcbiAgICAgICAgY2xpY2tSb3cgKiB0aGlzLmNlbGxTaXplICsgdGhpcy5kcm9wQW5pbWF0aW9uWSxcbiAgICAgICAgdGhpcy5jb2xvckZyb21QbGF5ZXIocGxheWVyKSxcbiAgICAgICk7XG4gICAgICB0aGlzLmRyb3BBbmltYXRpb25ZICs9IGQzLmVhc2VQb2x5SW4oMS4yKTtcbiAgICB9XG4gIH1cblxuICBkcmF3QmxvY2tBdFBvaW50KHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh4ICsgMSwgeSArIDEsIHRoaXMuY2VsbFNpemUgLSAxLCB0aGlzLmNlbGxTaXplIC0gMSk7XG4gIH1cblxuICBkcmF3QmxvY2socm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdChcbiAgICAgIGNvbCAqIHRoaXMuY2VsbFNpemUgKyAxLFxuICAgICAgcm93ICogdGhpcy5jZWxsU2l6ZSArIDEsXG4gICAgICB0aGlzLmNlbGxTaXplIC0gMSxcbiAgICAgIHRoaXMuY2VsbFNpemUgLSAxLFxuICAgICk7XG4gIH1cblxuICBjbGVhckJsb2NrKHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikge1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoXG4gICAgICBjb2wgKiB0aGlzLmNlbGxTaXplICsgMSxcbiAgICAgIHJvdyAqIHRoaXMuY2VsbFNpemUgKyAxLFxuICAgICAgdGhpcy5jZWxsU2l6ZSAtIDEsXG4gICAgICB0aGlzLmNlbGxTaXplIC0gMSxcbiAgICApO1xuICB9XG5cbiAgc2V0Q2xlYXJEZWJ1Z1RpbWVvdXQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNsZWFyRGVidWdHcmlkKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBjbGVhckRlYnVnR3JpZCgpIHtcbiAgICB0aGlzLml0ZXJhdGVPdmVyQ2VsbHMoKHJvdywgY29sKSA9PiAodGhpcy5kZWJ1Z0dyaWRbcm93XVtjb2xdID0gZmFsc2UpKTtcbiAgfVxuXG4gIGRyYXdCbG9ja3MoKSB7XG4gICAgdGhpcy5pdGVyYXRlT3ZlckNlbGxzKChyb3csIGNvbCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVidWdHcmlkW3Jvd11bY29sXSkge1xuICAgICAgICB0aGlzLmRyYXdCbG9jayhyb3csIGNvbCwgXCJncmVlblwiKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5ncmlkW3Jvd11bY29sXSA9PSBcIkFcIikge1xuICAgICAgICB0aGlzLmRyYXdCbG9jayhyb3csIGNvbCwgXCJyZWRcIik7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZ3JpZFtyb3ddW2NvbF0gPT0gXCJCXCIpIHtcbiAgICAgICAgdGhpcy5kcmF3QmxvY2socm93LCBjb2wsIFwiYmx1ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZHJhd0Jsb2NrKHJvdywgY29sLCBcIndoaXRlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZHJhd0dyaWQoKSB7XG4gICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5ncmlkQ29sb3I7XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDw9IHRoaXMud2lkdGg7IGNvbCArPSB0aGlzLmNlbGxTaXplKSB7XG4gICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmNvbnRleHQubW92ZVRvKGNvbCwgMCk7XG4gICAgICB0aGlzLmNvbnRleHQubGluZVRvKGNvbCwgdGhpcy5oZWlnaHQpO1xuICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8PSB0aGlzLmhlaWdodDsgcm93ICs9IHRoaXMuY2VsbFNpemUpIHtcbiAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oMCwgcm93KTtcbiAgICAgIHRoaXMuY29udGV4dC5saW5lVG8odGhpcy53aWR0aCwgcm93KTtcbiAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVQbGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBsYXllciA9PSBcIkFcIikge1xuICAgICAgdGhpcy5jdXJyZW50UGxheWVyID0gXCJCXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudFBsYXllciA9IFwiQVwiO1xuICAgIH1cbiAgfVxuXG4gIGRyb3BQaWVjZShjbGlja0NvbDogbnVtYmVyKTogeyByb3c6IG51bWJlcjsgY29sOiBudW1iZXIgfSB7XG4gICAgZm9yIChsZXQgcm93ID0gdGhpcy5ncmlkU2l6ZSAtIDE7IHJvdyA+PSAwOyByb3ctLSkge1xuICAgICAgY29uc3QgY2VsbCA9IHRoaXMuZ3JpZFtyb3ddW2NsaWNrQ29sXTtcbiAgICAgIGlmICghY2VsbCkge1xuICAgICAgICByZXR1cm4geyByb3csIGNvbDogY2xpY2tDb2wgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVEZWJ1ZygpIHtcbiAgICB0aGlzLmRlYnVnID0gIXRoaXMuZGVidWc7XG4gIH1cblxuICBwcml2YXRlIHNldHVwQXVkaW8oKSB7XG4gICAgdGhpcy5zb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICB0aGlzLnNvdW5kLnNyYyA9IFwiYXNzZXRzL3BpbmcubXAzXCI7XG4gICAgdGhpcy5zb3VuZC5zZXRBdHRyaWJ1dGUoXCJwcmVsb2FkXCIsIFwiYXV0b1wiKTtcbiAgICB0aGlzLnNvdW5kLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwibm9uZVwiKTtcbiAgICB0aGlzLnNvdW5kLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc291bmQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXN0YXJ0U291bmQoKSB7XG4gICAgdGhpcy5zb3VuZC5jdXJyZW50VGltZSA9IDA7XG4gIH1cblxuICBwcml2YXRlIHBsYXlTb3VuZCgpIHtcbiAgICBpZiAodGhpcy5zb3VuZC5wYXVzZWQpIHtcbiAgICAgIHRoaXMuc291bmQucGxheSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdGFydFNvdW5kKClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBHYW1lIGZyb20gXCIuL0dhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcbiAgc3RhcnRPdmVyQnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZGVidWdCdG46IEhUTUxCdXR0b25FbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICB0aGlzLmNhbnZhcy5pZCA9IFwiY2FudmFzXCI7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5jb250YWluZXIuaWQgPSBcImdhbWVcIjtcblxuICAgIHRoaXMuZGVidWdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHRoaXMuZGVidWdCdG4uaWQgPSBcImRlYnVnQnRuXCI7XG4gICAgdGhpcy5kZWJ1Z0J0bi5pbm5lckhUTUwgPSBcIlRvZ2dsZSBEZWJ1Z1wiO1xuICAgIHRoaXMuZGVidWdCdG4uY2xhc3NMaXN0LmFkZChcImJ0blwiKTtcblxuICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5zdGFydE92ZXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHRoaXMuc3RhcnRPdmVyQnRuLmlkID0gXCJzdGFydE92ZXJCdG5cIjtcbiAgICB0aGlzLnN0YXJ0T3ZlckJ0bi5jbGFzc0xpc3QuYWRkKFwiYnRuXCIpO1xuICAgIHRoaXMuc3RhcnRPdmVyQnRuLmlubmVySFRNTCA9IFwiU3RhcnQgT3ZlclwiO1xuXG4gICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3RhcnRPdmVyQnRuKTtcbiAgICBidXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kZWJ1Z0J0bik7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gIH1cblxuICB0b2dnbGVEZWJ1ZyhnYW1lOiBHYW1lKSB7XG4gICAgZ2FtZS50b2dnbGVEZWJ1ZygpO1xuICAgIHRoaXMuZGVidWdCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoZ2FtZTogR2FtZSkge1xuICAgIHRoaXMuc3RhcnRPdmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBnYW1lLnN0YXJ0R2FtZSgpKTtcbiAgICB0aGlzLmRlYnVnQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnRvZ2dsZURlYnVnKGdhbWUpKTtcbiAgfVxufVxuIiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vR2FtZVwiO1xuaW1wb3J0IExheW91dCBmcm9tIFwiLi9MYXlvdXRcIjtcblxuY29uc3QgbGF5b3V0ID0gbmV3IExheW91dCgpO1xuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XG5sYXlvdXQuYWRkRXZlbnRMaXN0ZW5lcnMoZ2FtZSk7XG5nYW1lLnN0YXJ0R2FtZSgpO1xuIiwidHlwZSBCb2FyZCA9IHN0cmluZ1tdW107XG50eXBlIERlYnVnQm9hcmQgPSBib29sZWFuW11bXTtcblxuY29uc3QgYm9hcmRTaXplID0gODtcblxuY29uc3QgY2hlY2tGb3JXaW4gPSAoY2VsbHM6IHN0cmluZ1tdLCBwbGF5ZXI6IHN0cmluZykgPT4ge1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGNlbGxzW2ldID09IHBsYXllcikge1xuICAgICAgY291bnQrKztcbiAgICAgIGlmIChjb3VudCA9PSA0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwid29uXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY2hlY2tIb3JpeiA9IChcbiAgcm93OiBudW1iZXIsXG4gIGNvbDogbnVtYmVyLFxuICBwbGF5ZXI6IHN0cmluZyxcbiAgYm9hcmQ6IEJvYXJkLFxuICBib2FyZFNpemU6IG51bWJlcixcbiAgZGVidWdCb2FyZDogRGVidWdCb2FyZCxcbiAgZGVidWcgPSBmYWxzZSxcbikgPT4ge1xuICBsZXQgY2VsbHMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGlmIChjb2wgLSBpIDwgMCkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3Jvd11bY29sIC0gaV07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3Jvd11bY29sIC0gaV0gPSB0cnVlO1xuICAgIGlmICghY2VsbCkgYnJlYWs7XG4gICAgY2VsbHMucHVzaChjZWxsKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGlmIChjb2wgKyBpID4gYm9hcmRTaXplIC0gMSkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3Jvd11bY29sICsgaV07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3Jvd11bY29sICsgaV0gPSB0cnVlO1xuICAgIGlmICghY2VsbCkgYnJlYWs7XG4gICAgY2VsbHMucHVzaChjZWxsKTtcbiAgfVxuXG4gIHJldHVybiBjaGVja0ZvcldpbihjZWxscywgcGxheWVyKTtcbn07XG5cbmNvbnN0IGNoZWNrVmVydCA9IChcbiAgcm93OiBudW1iZXIsXG4gIGNvbDogbnVtYmVyLFxuICBwbGF5ZXI6IHN0cmluZyxcbiAgYm9hcmQ6IEJvYXJkLFxuICBib2FyZFNpemU6IG51bWJlcixcbiAgZGVidWdCb2FyZDogRGVidWdCb2FyZCxcbiAgZGVidWcgPSBmYWxzZSxcbikgPT4ge1xuICBsZXQgY2VsbHMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGlmIChyb3cgLSBpIDwgMCkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3JvdyAtIGldW2NvbF07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3JvdyAtIGldW2NvbF0gPSB0cnVlO1xuICAgIGlmICghY2VsbCkgYnJlYWs7XG4gICAgY2VsbHMucHVzaChjZWxsKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGlmIChyb3cgKyBpID4gYm9hcmRTaXplIC0gMSkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3JvdyArIGldW2NvbF07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3JvdyArIGldW2NvbF0gPSB0cnVlO1xuICAgIGlmICghY2VsbCkgYnJlYWs7XG4gICAgY2VsbHMucHVzaChjZWxsKTtcbiAgfVxuXG4gIHJldHVybiBjaGVja0ZvcldpbihjZWxscywgcGxheWVyKTtcbn07XG5cbmNvbnN0IGNoZWNrRGlhZ1JpZ2h0ID0gKFxuICByb3c6IG51bWJlcixcbiAgY29sOiBudW1iZXIsXG4gIHBsYXllcjogc3RyaW5nLFxuICBib2FyZDogQm9hcmQsXG4gIGJvYXJkU2l6ZTogbnVtYmVyLFxuICBkZWJ1Z0JvYXJkOiBEZWJ1Z0JvYXJkLFxuICBkZWJ1ZyA9IGZhbHNlLFxuKSA9PiB7XG4gIGxldCBjZWxscyA9IFtdO1xuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGlmIChyb3cgLSBpIDwgMCB8fCBjb2wgLSBpIDwgMCkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3JvdyAtIGldW2NvbCAtIGldO1xuICAgIGlmIChkZWJ1ZykgZGVidWdCb2FyZFtyb3cgLSBpXVtjb2wgLSBpXSA9IHRydWU7XG4gICAgaWYgKCFjZWxsKSBicmVhaztcbiAgICBjZWxscy5wdXNoKGNlbGwpO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgaWYgKHJvdyArIGkgPiBib2FyZFNpemUgLSAxIHx8IGNvbCArIGkgPiBib2FyZFNpemUgLSAxKSBjb250aW51ZTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmRbcm93ICsgaV1bY29sICsgaV07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3JvdyArIGldW2NvbCArIGldID0gdHJ1ZTtcbiAgICBpZiAoIWNlbGwpIGJyZWFrO1xuICAgIGNlbGxzLnB1c2goY2VsbCk7XG4gIH1cblxuICByZXR1cm4gY2hlY2tGb3JXaW4oY2VsbHMsIHBsYXllcik7XG59O1xuXG5jb25zdCBjaGVja0RpYWdMZWZ0ID0gKFxuICByb3c6IG51bWJlcixcbiAgY29sOiBudW1iZXIsXG4gIHBsYXllcjogc3RyaW5nLFxuICBib2FyZDogQm9hcmQsXG4gIGJvYXJkU2l6ZTogbnVtYmVyLFxuICBkZWJ1Z0JvYXJkOiBEZWJ1Z0JvYXJkLFxuICBkZWJ1ZyA9IGZhbHNlLFxuKSA9PiB7XG4gIGxldCBjZWxscyA9IFtdO1xuICBmb3IgKGxldCBpID0gMzsgaSA+IDA7IGktLSkge1xuICAgIGlmIChyb3cgLSBpIDwgMCB8fCBjb2wgKyBpID4gYm9hcmRTaXplIC0gMSkgY29udGludWU7XG4gICAgY29uc3QgY2VsbCA9IGJvYXJkW3JvdyAtIGldW2NvbCArIGldO1xuICAgIGlmIChkZWJ1ZykgZGVidWdCb2FyZFtyb3cgLSBpXVtjb2wgKyBpXSA9IHRydWU7XG4gICAgaWYgKCFjZWxsKSBicmVhaztcbiAgICBjZWxscy5wdXNoKGNlbGwpO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgaWYgKHJvdyArIGkgPiBib2FyZFNpemUgLSAxIHx8IGNvbCAtIGkgPCAwKSBjb250aW51ZTtcbiAgICBjb25zdCBjZWxsID0gYm9hcmRbcm93ICsgaV1bY29sIC0gaV07XG4gICAgaWYgKGRlYnVnKSBkZWJ1Z0JvYXJkW3JvdyArIGldW2NvbCAtIGldID0gdHJ1ZTtcbiAgICBpZiAoIWNlbGwpIGJyZWFrO1xuICAgIGNlbGxzLnB1c2goY2VsbCk7XG4gIH1cblxuICByZXR1cm4gY2hlY2tGb3JXaW4oY2VsbHMsIHBsYXllcik7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tQb3NpdGlvbkZvcldpbiA9IChcbiAgcm93OiBudW1iZXIsXG4gIGNvbDogbnVtYmVyLFxuICBwbGF5ZXI6IHN0cmluZyxcbiAgYm9hcmQ6IEJvYXJkLFxuICBib2FyZFNpemU6IG51bWJlcixcbiAgZGVidWdCb2FyZDogRGVidWdCb2FyZCxcbiAgZGVidWcgPSBmYWxzZSxcbikgPT4ge1xuICBpZiAoY2hlY2tIb3Jpeihyb3csIGNvbCwgcGxheWVyLCBib2FyZCwgYm9hcmRTaXplLCBkZWJ1Z0JvYXJkLCBkZWJ1ZykpIHJldHVybiB0cnVlO1xuICBpZiAoY2hlY2tWZXJ0KHJvdywgY29sLCBwbGF5ZXIsIGJvYXJkLCBib2FyZFNpemUsIGRlYnVnQm9hcmQsIGRlYnVnKSkgcmV0dXJuIHRydWU7XG4gIGlmIChjaGVja0RpYWdMZWZ0KHJvdywgY29sLCBwbGF5ZXIsIGJvYXJkLCBib2FyZFNpemUsIGRlYnVnQm9hcmQsIGRlYnVnKSkgcmV0dXJuIHRydWU7XG4gIGlmIChjaGVja0RpYWdSaWdodChyb3csIGNvbCwgcGxheWVyLCBib2FyZCwgYm9hcmRTaXplLCBkZWJ1Z0JvYXJkLCBkZWJ1ZykpIHJldHVybiB0cnVlO1xuXG4gIHJldHVybiBmYWxzZTtcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwic291cmNlUm9vdCI6IiJ9